(function(){function tb(){}function t(){}function aa(a){this.fb=a;this.Db=[];this.jd=this.qc=!1}function ub(){}function Rb(){}function vb(){}function fa(a,b){null==a&&(a=!1);var c=this;this.sd=a;this.ca=null==b?function(a,b){return a==b}:b;this.W=[];this.wa=[];S.call(this,function(a){c.W.push(a);a.Fa(function(){p.remove(c.W,a)})})}function ma(){this.yc=[];this.state=I.N}function wb(){this.Ic=new ma}function xb(){}function yb(){}function Sb(){}function xa(){}function Tb(){}function Pa(){this.ib=[];
this.length=0}function Ub(){}function z(){}function Ea(){}function Vb(){}function Wb(){}function na(a,b,c){null==b&&(b=[],0==b.length&&(b=ga.ne()));this.Qd=b;this.Kb=c}function ca(){}function ha(){}function da(){this.s={}}function ia(){this.s={};this.s.Ra={}}function Va(){this.s={}}function ga(){}function sa(a,b){this.a=new O({c:a,parent:b})}function Fa(a){null==a.c&&null==a.o&&(a.o='<header class="toolbar"><div><div class="left"></div><div class="center"></div><div class="right"></div></div></header>');
this.a=new O(a);this.left=new sa(t.first(".left",this.a.c),this.a);this.Va=new sa(t.first(".center",this.a.c),this.a);this.right=new sa(t.first(".right",this.a.c),this.a)}function zb(a){null==a.c&&null==a.o&&(a.o='<footer class="statusbar"><div><div class="left"></div><div class="center"></div><div class="right"></div></div></footer>');this.a=new O(a);this.left=new sa(t.first(".left",this.a.c),this.a);this.Va=new sa(t.first(".center",this.a.c),this.a);this.right=new sa(t.first(".right",this.a.c),
this.a)}function Ga(a){null==a.c&&null==a.o&&(a.o='<menu class="frame-overlay"><ul></ul></menu>');ta.call(this,a);this.Mc=t.first("ul",this.a.c);this.items=new ia}function oa(a,b){null==a&&(a="");this.a=new O({o:null==b?"<button>"+a+"</button>":'<button class="fa fa-'+b+'">'+a+"</button>"});this.P=g.O(this.a.c,"click",!1).gc(J(this,this.Re));this.enabled=new w(!0);vb.Bd(this.enabled).g(g.hf(this.a.c))}function pa(){}function Wa(a,b){var c=this;K.call(this,f.ma,{o:'<textarea class="editor text" placeholder="text"></textarea>',
A:a,parent:b});var d=this.a.c;g.O(d,"input").gc(function(){c.resize()}).map(function(){return{j:f.ma,h:d.value}}).Ma(this.stream);g.ua(d).q(this.focus);this.stream.g(function(a){a=a.h;d.value!=a&&(d.value=a)});this.focus.g(g.va(d))}function Xa(a,b){ba.call(this,a,b,f.Ea,"reference","text","input",function(a){return{j:f.Ea,h:a.value}})}function L(){}function Ya(a,b,c){this.Ac=!1;var d=this;V.call(this,a,b,c);this.jb=this.toolbar.left.$("",P.S.ad);this.jb.enabled.set(!1);this.jb.P.g(function(){d.qa.Ab(d.jb.a.c);
d.qa.visible.stream.set(!0)});this.qa=new Ga({parent:this.a});this.Ac=!0;this.Nb()}function Za(a,b){ba.call(this,a,b,f.Da,"number","number","input",function(a){return{j:f.Da,h:a.valueAsNumber}})}function $a(a,b){ba.call(this,a,b,f.Da,"fieldname","text","change");this.a.c.addEventListener("keyup",function(){},!1)}function ba(a,b,c,d,e,h,T,k){null==h&&(h="change");null==e&&(e=d);null==T&&(T=function(a){return{j:f.ma,h:a.value}});null==k&&(k=function(a,b){a.value=b.h});K.call(this,c,{o:'<input class="editor '+
d+'" placeholder="'+d+'" type="'+e+'" />',A:a,parent:b});var l=this.a.c;g.O(l,h).map(function(){return T(l)}).Ma(this.stream);g.ua(l).q(this.focus);this.stream.g(function(a){var b=a.h;T(l)!=b&&k(l,a)});this.focus.g(g.va(l))}function ab(){}function u(){}function bb(a,b,c){null==c&&(c=!0);var d=this;this.format=c?"%Y-%m-%dT%H:%M":"%Y-%m-%d";K.call(this,f.Pa,{o:'<input class="editor date" placeholder="insert date" type="'+(c?"datetime-local":"date")+'" />',A:a,parent:b});var e=this.a.c;g.O(e,"change").map(function(){try{var a=
p.Sd(e.value);return{j:f.Pa,h:a}}catch(b){return null}}).Qe().filter(function(a){return!isNaN(a.h.getTime())}).Ma(this.stream);g.ua(e).q(this.focus);this.stream.g(function(a){a=ja.format(a.h,d.format);e.value!=a&&(e.value=a)});this.focus.g(g.va(e))}function cb(a,b){var c=this;K.call(this,f.xa,{o:'<div class="editor code"></div>',A:a,parent:b});this.t=CodeMirror(this.a.c,{mode:"javascript",zf:2,uf:!0,Af:1,vf:!0});this.t.Dd("changes",J(this,this.kb));this.t.Dd("focus",J(this,this.Nd));this.t.Dd("blur",
J(this,this.hd));this.stream.g(function(a){a=a.h;c.t.nb.Je()!=a&&c.t.nb.xf(a)});this.focus.g(function(){c.t.focus()});xa.Eb(function(){c.t.refresh()},10)}function db(a,b){K.call(this,f.Ca,{o:'<input class="editor bool" placeholder="on/off" type="checkbox" />',A:a,parent:b});var c=this.a.c;g.O(c,"change").map(function(){return{j:f.Ca,h:c.checked}}).Ma(this.stream);g.ua(c).q(this.focus);this.stream.g(function(a){a=a.h;c.value!=a&&(c.value=a)});this.focus.g(g.va(c))}function eb(a,b,c){var d=this;this.la=
[];this.r=[];this.ia=w.ld();ka.call(this,f.Rb(c),{o:'<div class="editor array"></div>',A:a,parent:b});this.Ja=c;a=new Fa({parent:this.a,A:this.a.c});this.list=window.document.createElement("ol");b=window.document.createElement("div");b.className="items";this.a.c.appendChild(b);b.appendChild(this.list);b=a.left.$("",P.S.add);a=a.right.$("",P.S.remove);W.m(this.ia).q(a.enabled);this.G.g(function(a){var b=a.j,T=a.h;switch(b.length){case 1:switch(b[0][1]){case 1:var f=T;switch(T[1]){case 0:a=b[0][2];
d.la.splice(a,1);d.Ue(a);break;case 1:a=b[0][2];d.la.splice(a,0,null);d.qe(a);break;case 2:var l=b[0][2],T=T[2];if(r.Xa(T.j,c))d.la[l]=T.h,d.Ba(l,T);else if(0<b.length)switch(l=b.shift(),l[1]){case 1:l=l[2];if(x.T(d.r[l],qa))d.r[l].G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ArrayEditor";break;default:throw"unable to forward "+u.toString(a)+" within ArrayEditor";}else throw"unable to assign "+u.toString(a)+" within ArrayEditor";break;default:if(0<b.length)switch(l=b.shift(),
l[1]){case 1:l=l[2];if(x.T(d.r[l],qa))d.r[l].G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ArrayEditor";break;default:throw"unable to forward "+u.toString(a)+" within ArrayEditor";}else throw"unable to assign "+u.toString(a)+" within ArrayEditor";}break;default:if(f=T,0<b.length)switch(l=b.shift(),l[1]){case 1:l=l[2];if(x.T(d.r[l],qa))d.r[l].G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ArrayEditor";break;default:throw"unable to forward "+u.toString(a)+
" within ArrayEditor";}else throw"unable to assign "+u.toString(a)+" within ArrayEditor";}break;case 0:f=T;if(0<b.length)switch(l=b.shift(),l[1]){case 1:l=l[2];if(x.T(d.r[l],qa))d.r[l].G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ArrayEditor";break;default:throw"unable to forward "+u.toString(a)+" within ArrayEditor";}else switch(T[1]){case 2:if(!r.Xa(d.type,T[2].j))throw"unable to assign "+u.toString(a)+" within ArrayEditor";break;default:throw"unable to assign "+u.toString(a)+
" within ArrayEditor";}break;default:if(f=T,0<b.length)switch(l=b.shift(),l[1]){case 1:l=l[2];if(x.T(d.r[l],qa))d.r[l].G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ArrayEditor";break;default:throw"unable to forward "+u.toString(a)+" within ArrayEditor";}else throw"unable to assign "+u.toString(a)+" within ArrayEditor";}d.B()});W.Gb(this.ia.gc(function(){var a=t.Bb(t.first("li.active",d.list),d.list);null!=a&&a.classList.remove("active")})).g(function(a){a=t.Bb(t.first("li:nth-child("+
(a+1)+")",d.list),d.list);null!=a&&a.classList.add("active")});b.P.g(function(){var a;a=M.m(d.ia.get())?M.M(d.ia.get())+1:d.la.length;d.G.B({j:L.Cc(a),h:X.vb});d.r[a].focus.set(!0)});a.P.g(function(){if(M.m(d.ia.get())){var a=M.M(d.ia.get());d.G.B({j:L.Cc(a),h:X.Wb})}})}function ya(a,b,c){var d=this;V.call(this,a,b,[]);this.ed=null==c?ya.ve:c;this.qa=new Ga({parent:this.a});this.Ke();var e=this.toolbar.left.$("",P.S.ad);e.P.g(function(){d.qa.Ab(e.a.c);d.qa.visible.stream.set(!0)})}function V(a,b,
c){var d=this;this.object={};this.r=new da;this.Q=new da;this.lb=w.ld();ka.call(this,f.gb([]),{o:'<div class="editor table"></div>',A:a,parent:b});this.l=[];this.toolbar=new Fa({parent:this.a,A:this.a.c});a=this.toolbar.right.$("",P.S.remove);a.enabled.set(!1);this.lb.map(function(a){switch(a[1]){case 1:return!1;case 0:return d.Q.get(a[2]).w.optional}}).q(a.enabled);a.P.g(function(){var a=M.M(d.lb.get());null!=a&&d.cb(a)});this.table=window.document.createElement("table");this.a.c.appendChild(this.table);
this.G.g(function(a){var b=a.j,c=a.h;switch(b.length){case 1:switch(b[0][1]){case 0:var f=c;switch(c[1]){case 0:b=b[0][2];d.r.H(b)&&d.cb(b);break;case 1:d.Ia(b[0][2]);break;case 2:var l=b[0][2],c=c[2];if(r.Xa(c.j,d.Q.get(l).w.type))d.Ia(l).stream.C(y.D(c));else if(0<b.length)switch(l=b.shift(),l[1]){case 0:var g=l[2];if(function(){var a;switch(d.Q.get(g).w.type[1]){case 4:case 0:a=!0;break;default:a=!1}return a}(this))d.Ia(g).G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ObjectEditor";
break;default:throw"unable to forward "+u.toString(a)+" within ObjectEditor";}else throw console.log(L.toString(a.j)),console.log(function(){var b=a.h;switch(b[1]){case 2:b=pa.toString(b[2]);break;default:b=k.i(a.h)}return b}(this)),"unable to assign "+u.toString(a)+" within ObjectEditor";break;default:if(0<b.length)switch(l=b.shift(),l[1]){case 0:g=l[2];if(function(){var a;switch(d.Q.get(g).w.type[1]){case 4:case 0:a=!0;break;default:a=!1}return a}(this))d.Ia(g).G.C(y.D({j:b,h:f}));else throw"unable to forward "+
u.toString(a)+" within ObjectEditor";break;default:throw"unable to forward "+u.toString(a)+" within ObjectEditor";}else throw console.log(L.toString(a.j)),console.log(function(){var b=a.h;switch(b[1]){case 2:b=pa.toString(b[2]);break;default:b=k.i(a.h)}return b}(this)),"unable to assign "+u.toString(a)+" within ObjectEditor";}break;default:if(f=c,0<b.length)switch(l=b.shift(),l[1]){case 0:g=l[2];if(function(){var a;switch(d.Q.get(g).w.type[1]){case 4:case 0:a=!0;break;default:a=!1}return a}(this))d.Ia(g).G.C(y.D({j:b,
h:f}));else throw"unable to forward "+u.toString(a)+" within ObjectEditor";break;default:throw"unable to forward "+u.toString(a)+" within ObjectEditor";}else throw console.log(L.toString(a.j)),console.log(function(){var b=a.h;switch(b[1]){case 2:b=pa.toString(b[2]);break;default:b=k.i(a.h)}return b}(this)),"unable to assign "+u.toString(a)+" within ObjectEditor";}break;case 0:f=c;if(0<b.length)switch(l=b.shift(),l[1]){case 0:g=l[2];if(function(){var a;switch(d.Q.get(g).w.type[1]){case 4:case 0:a=
!0;break;default:a=!1}return a}(this))d.Ia(g).G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ObjectEditor";break;default:throw"unable to forward "+u.toString(a)+" within ObjectEditor";}else switch(c[1]){case 2:if(!r.Xa(d.type,c[2].j))throw console.log(L.toString(a.j)),console.log(function(){var b=a.h;switch(b[1]){case 2:b=pa.toString(b[2]);break;default:b=k.i(a.h)}return b}(this)),"unable to assign "+u.toString(a)+" within ObjectEditor";break;default:throw console.log(L.toString(a.j)),
console.log(function(){var b=a.h;switch(b[1]){case 2:b=pa.toString(b[2]);break;default:b=k.i(a.h)}return b}(this)),"unable to assign "+u.toString(a)+" within ObjectEditor";}break;default:if(f=c,0<b.length)switch(l=b.shift(),l[1]){case 0:g=l[2];if(function(){var a;switch(d.Q.get(g).w.type[1]){case 4:case 0:a=!0;break;default:a=!1}return a}(this))d.Ia(g).G.C(y.D({j:b,h:f}));else throw"unable to forward "+u.toString(a)+" within ObjectEditor";break;default:throw"unable to forward "+u.toString(a)+" within ObjectEditor";
}else throw console.log(L.toString(a.j)),console.log(function(){var b=a.h;switch(b[1]){case 2:b=pa.toString(b[2]);break;default:b=k.i(a.h)}return b}(this)),"unable to assign "+u.toString(a)+" within ObjectEditor";}d.B()});c.map(function(a,b){d.Yc(a,b)})}function ka(a,b){K.call(this,a,b);this.G=new fa}function qa(){}function K(a,b){this.stream=new fa(!0,pa.ca);this.type=a;this.focus=new w(!1);this.a=new O(b)}function fb(){}function gb(a){this.name="text";null==a.c&&null==a.o&&(a.o='<span class="text"></span>');
this.uid=null!=a.uid?a.uid:xb.create();null==a.za&&(a.za="type some content");this.parent=a.ud;this.t=new ea(a);this.Z=new w(!1);this.Z.q((new Ha(this.t.a,"active")).stream);this.focus=this.t.focus;this.a=this.t.a}function Ab(){this.map=new da}function Bb(a,b){this.sc=a;this.la=b}function Qa(a){this.name="block";null==a.c&&null==a.o&&(a.o='<div class="block" tabindex="1"></div>');this.parent=a.ud;this.uid=null!=a.uid?a.uid:xb.create();this.a=new O(a);this.Z=new w(!1);this.Z.q((new Ha(this.a,"active")).stream);
this.focus=new w(!1);g.ua(this.a.c).q(this.focus)}function hb(){}function ib(a){null==a.Za&&(a.Za=function(a){return g.O(a.c,"blur")});ea.call(this,a);this.type=f.Ea;this.a.c.classList.add("reference")}function jb(a){var b=this;this.type=f.Da;null==a.defaultValue&&(a.defaultValue=0);null==a.o&&(a.o='<input type="number"/>');this.a=new O(a);var c=this.a.c.classList;c.add("editor");c.add("float");this.a.c.setAttribute("tabindex","1");this.value=new w(a.defaultValue);this.focus=new w(!1);this.focus.sa(!0).g(g.va(this.a.c));
var d=g.ua(this.a.c).q(this.focus);g.O(this.a.c,"input").map(function(){return b.a.c.valueAsNumber}).q(this.value);this.cancel=function(){d.cancel()}}function Cb(){}function kb(a){this.type=f.Pa;null==a.defaultValue&&(a.defaultValue=new Date);null==a.o&&(a.o='<input type="date"/>');this.a=new O(a);var b=this.a.c.classList;b.add("editor");b.add("date");this.a.c.setAttribute("tabindex","1");this.value=new w(a.defaultValue);this.focus=new w(!1);this.focus.sa(!0).g(g.va(this.a.c));var c=g.ua(this.a.c).q(this.focus),
d=this.a.c;g.df(d).map(function(){return d.valueAsDate}).q(this.value);this.cancel=function(){c.cancel()}}function lb(a){null==a.Za&&(a.Za=function(a){return g.O(a.c,"blur")});ea.call(this,a);this.type=f.xa;this.a.c.classList.add("code")}function ea(a){var b=this;this.type=f.ma;null==a.Ha&&(a.Ha="");null==a.za&&(a.za="");null==a.c&&null==a.o&&(a.o="<div></div>");null==a.Za&&(a.Za=function(a){return g.O(a.c,"input")});this.a=new O(a);this.a.c.classList.add("editor");this.a.c.classList.add("text");
this.a.c.setAttribute("tabindex","1");this.a.c.setAttribute("contenteditable","true");this.a.c.setAttribute("placeholder",a.za);this.a.c.addEventListener("dragstart",function(a){a.preventDefault()},!1);this.a.c.addEventListener("drop",function(a){a.preventDefault()},!1);this.a.c.style.content=a.za;var c=new Ra(this.a,a.Ha);this.value=c.stream;a.Za(this.a).map(function(){return c.a.c.textContent}).q(this.value);this.focus=new w(!1);this.focus.sa(!0).g(g.va(this.a.c));var d=this.focus.sa(!0).g(function(){window.document.getSelection().selectAllChildren(b.a.c)});
g.ua(this.a.c).q(this.focus);this.cancel=function(){c.ba();d.cancel()};a=new w(""==a.Ha);g.O(this.a.c,"input").map(function(){return""==c.a.c.textContent}).sb(this.value.map(function(a){return""==a})).q(a);a.g(g.Oa(this.a.c,"empty"));g.O(this.a.c,"paste").map(function(a){a.preventDefault();a=null==a.clipboardData?"":a.clipboardData.getData("text/plain");var c=b.value.get(),d=window.getSelection();return p.substr(c,0,d.anchorOffset)+a+p.substr(c,d.extentOffset,null)}).filter(function(a){return 0<a.length}).q(this.value)}
function mb(a){var b=this;this.type=f.Ca;null==a.defaultValue&&(a.defaultValue=!1);null==a.c&&null==a.o&&(a.o="<div></div>");this.a=new O(a);var c=this.a.c.classList;c.add("fa");c.add("editor");c.add("bool");c.add("fa-"+P.S.Wd);this.a.c.setAttribute("tabindex","1");this.value=new w(a.defaultValue);this.value.g(g.Oa(this.a.c,"fa-"+P.S.checked));vb.Bd(this.value).g(g.Oa(this.a.c,"fa-"+P.S.Wd));var d=g.O(this.a.c,"click",!1).Ud().sb(g.ef(this.a.c).filter(function(a){switch(a.keyCode){case 32:case 13:return!0;
default:return!1}}).Ud()).map(function(){return!b.value.get()}).q(this.value);this.focus=new w(!1);this.focus.sa(!0).g(g.va(this.a.c));var e=g.O(this.a.c,"focus").Lc().sb(g.O(this.a.c,"blur").Td()).q(this.focus);this.cancel=function(){d.cancel();e.cancel()}}function nb(a){this.type=f.Rb(this.Ja=a.Ja);null==a.defaultValue&&(a.defaultValue=[]);null==a.o&&(a.o='<ul type="array"></ul>');this.a=new O(a);var b=this.a.c.classList;b.add("editor");b.add("array");this.a.c.setAttribute("tabindex","1");this.value=
new w(a.defaultValue);this.focus=new w(!1);this.focus.sa(!0).g(g.va(this.a.c));var c=g.ua(this.a.c).q(this.focus);this.cancel=function(){c.cancel()};this.items=[];this.Ga();this.Ga();this.Ga()}function za(){}function Db(){var a=this;this.a=new O({o:'<div class="modelview"></div>'});this.data=this.nd=new fa;this.t=new ya(this.a.c,this.a);this.t.G.g(function(b){var c=b.h;b=b.j;switch(c[1]){case 2:c=c[2],a.nd.B(bc.ge(L.toString(b),c.h,c.j))}})}function Eb(a,b,c,d){this.parent=a;this.A=b;this.cd=c;this.dd=
d}function Aa(a){var b=this;this.a=new O(a);this.toolbar=new Fa({parent:this.a,A:this.a.c});this.ga=new Fb({parent:this.a,A:this.a.c});this.statusbar=new zb({parent:this.a,A:this.a.c});this.ga.ja.map(function(a){switch(a[1]){case 0:return""+k.i(a[2]);case 1:return"no fragment selected"}}).g(g.ff(this.statusbar.left.a.c));this.toolbar.left.$("block",P.S.add).P.g(function(){b.ga.Xc()});a=this.toolbar.left.$("text",P.S.add);a.P.g(function(){var a=Aa.xc(M.M(b.ga.ja.get()));null!=a&&b.ga.$c(a)});a.enabled.set(!1);
this.ga.ja.map(function(a){switch(a[1]){case 0:return null!=Aa.xc(a[2]);case 1:return!1}}).q(a.enabled);a=this.toolbar.right.$("",P.S.remove);a.enabled.set(!1);a.P.g(function(){M.M(b.ga.ja.get()).a.mb();b.ga.ja.set(I.N)});W.m(this.ga.ja).q(a.enabled)}function Gb(a,b,c,d,e){var h=this;this.document=a;this.ab=b;this.tb=c;this.Hb=d;this.a=new O(e);this.toolbar=new Fa({parent:this.a,A:this.a.c});this.c=Hb.Ed(A.Fc('<div class="fields"><div></div></div>'))[0];this.a.c.appendChild(this.c);this.c=t.first("div",
this.c);this.button={add:this.toolbar.left.$("",P.S.we),M:this.toolbar.Va.$("",P.S.value),p:this.toolbar.Va.$("",P.S.code),F:this.toolbar.Va.$("",P.S.Se),remove:this.toolbar.right.$("",P.S.remove)};this.rb={add:new Ga({parent:this.a})};this.rb.add.Ab(this.button.add.a.c);this.button.add.P.Lc().q(this.rb.add.visible.stream);this.button.add.enabled.set(!1);this.button.remove.P.g(function(){var b=M.M(h.w.get()),c=M.M(a.ga.ja.get());c.a.I.get(b.name).ba();b.mb();h.Md(c)});this.button.M.P.g(function(){var a=
M.M(h.w.get());a.ta.Ba(a.type)});this.button.p.P.g(function(){M.M(h.w.get()).ta.Ba(f.xa)});this.button.F.P.g(function(){M.M(h.w.get()).ta.Ba(f.Ea)});this.w=new w(I.N);W.m(this.w.qd(10)).q(this.button.remove.enabled);Rb.De(W.Gb(this.w).map(function(a){return a.mc})).g(function(a){switch(a[1]){case 6:h.button.p.enabled.set(!1);h.button.F.enabled.set(!0);h.button.M.enabled.set(!0);break;case 7:h.button.p.enabled.set(!0);h.button.F.enabled.set(!1);h.button.M.enabled.set(!0);break;default:h.button.p.enabled.set(!0),
h.button.F.enabled.set(!0),h.button.M.enabled.set(!1)}});b=W.Gb(this.w);b.Hd().g(function(a){a.Z.set(!1)});b.g(function(a){a.Z.set(!0)});W.Wa(a.ga.ja,J(this,this.Od),J(this,this.Ve))}function ra(a){function b(b,d){var e=b.value.map(d);e.rd(function(a,b){return null!=b&&ha.nc(a.Fb,b.Fb)}).g(function(c){a.ab.kb.g(function(e){ha.contains(c.Fb,e,function(a,b){return A.Rd(b,a)})&&a.value.Na.set(I.Qa(d(b.value.get())))})});e.Pb().q(a.value.Na);e.map(function(a){return Xb.lf(a.oc)}).sb(a.value.Aa).q(c.Qb)}
var c=this;null==a.o&&null==a.c&&(a.o='<div class="field"><div class="key-container"><div class="key"></div></div><div class="value-container"></div></div>');this.a=new O(a);var d=t.first(".key",this.a.c);d.textContent=a.display;this.name=a.name;this.type=a.type;this.mc=new w(a.type);this.focus=new w(!1);this.Z=new w(!1);this.Qb=new w(I.N);var e=new fa;this.ta=new Eb(this.a,t.first(".value-container",this.a.c),function(d,h){h.focus.q(c.focus);c.mc.set(d);switch(d[1]){case 6:b(h,function(b){return U.Vd(b,
a.ab)});break;case 7:b(h,function(b){return U.Vd(Q.p(b),a.ab)});e.g(function(b){var c=h.value.get();a.tb.Kc(L.Ob(c),b,a.type)});a.value.stream.Ma(e);break;default:a.value.Na.set(I.N),h.value.q(a.value.stream),a.value.stream.q(h.value)}},function(a){switch(a[1]){case 7:console.log("cancelling"),e.C(y.Ub(!0))}});var h=M.M(a.value.Na.get());if(null==h)this.ta.Ba(a.type,a.value.stream.get());else{var k=B.F(h.code);null!=k&&""!=k?this.ta.Ba(f.Ea,B.F(h.code)):this.ta.Ba(f.xa,h.code)}this.Z.g(g.Oa(this.a.c,
"active"));g.O(d,"click",!1).g(function(){null!=c.ta.t&&c.ta.t.focus.set(!0)});W.m(this.Qb).g(g.Oa(this.a.c,"error"));W.Wa(this.Qb,function(a){ra.ub.af(a);ra.ub.Ab(c.a.c,s.cc,s.Sb);ra.ub.visible.stream.set(!0)},function(){ra.ub.zb==c.a.c&&ra.ub.visible.stream.set(!1)})}function M(){}function W(){}function w(a,b){var c=this;this.ca=null==b?function(a,b){return a==b}:b;this.value=a;this.W=[];this.wa=[];S.call(this,function(a){c.W.push(a);a.Fa(function(){p.remove(c.W,a)});a.B(c.value)})}function S(a){this.ea=
a}function g(){}function Hb(){}function x(){}function ob(a){ta.call(this,a)}function ta(a){function b(){c.visible.stream.set(!1)}var c=this;null==a.c&&null==a.o&&(a.o='<div class="frame-overlay"></div>');this.a=new O(a);this.visible=new pb(this.a,!1);this.visible.stream.filter(function(a){return!a}).g(function(){window.document.removeEventListener("mouseup",b,!1)});this.visible.stream.filter(function(a){return a}).g(function(){window.document.addEventListener("mouseup",b,!1);c.Id()});this.zb=window.document.body}
function Yb(){}function Fb(a){null==a.c&&null==a.o&&(a.o="<article></article>");this.a=new O(a);this.vd=new ia;this.rc=new fa;this.ja=new w(I.N);this.rc.Pb().q(this.ja);a=W.Gb(this.ja);a.Hd().g(function(a){a.Z.set(!1)});a.g(function(a){a.Z.set(!0)})}function Zb(){}function E(){}function Q(){}function F(){}function C(){}function N(){}function G(){}function B(){}function H(){}function v(){}function pb(a,b){Y.call(this,b,a,"visible");this.stream.g(g.jf(a.c))}function Ib(){this.map=new da}function Ha(a,
b,c){var d=a.c.classList.contains(c);Y.call(this,d,a,b);null==c&&(c=b);this.stream.g(g.Oa(a.c,c))}function Ra(a,b){Y.call(this,null==b?a.c.textContent:b,a,"text");this.stream.g(g.gf(a.c))}function Sa(a,b,c){Y.call(this,a,b,c)}function Ba(a,b,c){Y.call(this,a,b,c)}function Y(a,b,c){var d=this;this.stream=new w(a);this.Na=new w(I.N);this.Aa=new w(I.N);Ia.call(this,b,c);W.m(this.Aa).g(g.Oa(b.c,"error"));this.Na.g(function(a){switch(a[1]){case 1:b.c.classList.remove("error");d.Aa.set(I.N);break;case 0:switch(a=
a[2].oc,a[1]){case 1:b.c.classList.add("error");d.Aa.set(I.N);break;case 0:switch(a=a[2],b.c.classList.remove("error"),d.Aa.set(I.N),a=a(),a[1]){case 0:d.stream.set(d.transform(a[2]));break;case 1:d.Aa.set(I.Qa(a[2]))}}}})}function Ia(a,b){this.a=a;this.name=b;this.hc=[];a.I.add(this)}function Ja(a){this.yb=!1;Z.call(this,a)}function Ta(a){this.pa=!1;Z.call(this,a)}function R(){}function Ca(a){Z.call(this,a);this.l=new da;this.inverse=new ia}function ua(){}function Ka(a){Z.call(this,a);this.items=
new Va;this.inverse=new ia}function La(){}function Ma(){}function Z(a){this.parent=null!=a?a:ua.Bc}function Jb(){}function Kb(){this.l=new da;this.stream=this.aa=new fa}function U(a,b){this.oc=a;this.code=b;this.Fb=U.ze(b)}function Lb(a){var b=this;this.kb=this.aa=new fa;this.data=a;this.eb=new Kb;this.od=function(c){var d=c[2];a.set(d,c[3]);b.aa.C(y.D(d))};this.Ze=function(c){switch(c[1]){case 0:for(c=Na(c[2])();c.R();){var d=c.next();b.eb.add(d.name,d.type)}b.aa.C(y.D(""));break;case 1:b.eb.add(c[2],
c[3]);break;case 2:c=c[2];b.eb["delete"](c);a.remove(c);b.aa.C(y.D(c));break;case 3:d=c[3];c=c[2];b.eb.Jc(c,d);a.Jc(c,d);b.aa.C(y.D(c));b.aa.C(y.D(d));break;case 4:d=c[2],b.eb.We(d,c[3]),a.remove(d),b.aa.C(y.D(d))}}}function Xb(){}function Mb(a){this.value=new w(a);this.reset(a)}function Nb(a){this.target=a;this.I=new da}function O(a){this.Ka=!1;this.list=[];this.I=new Nb(this);if(null==a.o){if(null==a.c)throw""+k.i(this)+" needs a template";this.c=a.c;null!=this.c.parentElement&&(this.Ka=!0)}else this.c=
Hb.Ed(A.Fc(a.o))[0];null!=a.Cb&&a.Cb.split(" ").map((va=this.c.classList,J(va,va.add)));null!=a.parent&&a.parent.add(this);null!=a.A&&this.Ta(a.A)}function r(){}function A(){}function Oa(){this.f=""}function k(){}function n(){}function la(){}function Ua(){}function cc(){}function $b(){}function qb(){}function p(){}function Da(a,b){b=b.split("u").join("");this.V=new RegExp(a,b)}function ja(){}function P(){}function m(){return x.Sa(this,"")}function D(a,b){function c(){}c.prototype=a;var d=new c,e;
for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function Na(a){return a instanceof Array?function(){return p.pb(a)}:"function"==typeof a.ha?J(a,a.ha):a.ha}function J(a,b){if(null==b)return null;null==b.na&&(b.na=fc++);var c;null==a.zc?a.zc={}:c=a.zc[b.na];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.zc[b.na]=c);return c}P.b=["Config"];ja.b=["DateTools"];ja.je=function(a,b){switch(b){case "%":return"%";case "C":return A.ya(k.i(k["int"](a.getFullYear()/
100)),"0");case "d":return A.ya(k.i(a.getDate()),"0");case "D":return ja.hb(a,"%m/%d/%y");case "e":return k.i(a.getDate());case "H":case "k":return A.ya(k.i(a.getHours()),"H"==b?"0":" ");case "I":case "l":var c=a.getHours()%12;return A.ya(k.i(0==c?12:c),"I"==b?"0":" ");case "m":return A.ya(k.i(a.getMonth()+1),"0");case "M":return A.ya(k.i(a.getMinutes()),"0");case "n":return"\n";case "p":return 11<a.getHours()?"PM":"AM";case "r":return ja.hb(a,"%I:%M:%S %p");case "R":return ja.hb(a,"%H:%M");case "s":return k.i(k["int"](a.getTime()/
1E3));case "S":return A.ya(k.i(a.getSeconds()),"0");case "t":return"\t";case "T":return ja.hb(a,"%H:%M:%S");case "u":return c=a.getDay(),0==c?"7":null==c?"null":""+c;case "w":return k.i(a.getDay());case "y":return A.ya(k.i(a.getFullYear()%100),"0");case "Y":return k.i(a.getFullYear());default:throw"Date.format %"+b+"- not implemented yet.";}};ja.hb=function(a,b){for(var c=new Oa,d=0;;){var e=b.indexOf("%",d);if(0>e)break;c.bd(b,d,e-d);c.add(ja.je(a,p.substr(b,e+1,1)));d=e+2}c.bd(b,d,b.length-d);return c.f};
ja.format=function(a,b){return ja.hb(a,b)};Da.b=["EReg"];Da.prototype={V:null,match:function(a){this.V.global&&(this.V.lastIndex=0);this.V.La=this.V.exec(a);this.V.Ld=a;return null!=this.V.La},qb:function(a){if(null!=this.V.La&&0<=a&&a<this.V.La.length)return this.V.La[a];throw"EReg::matched";},Gc:function(){if(null==this.V.La)throw"No string matched";var a=this.V.La.index+this.V.La[0].length;return this.V.Ld.substr(a,this.V.Ld.length-a)},d:Da};p.b=["HxOverrides"];p.ue=function(a){var b=a.getMonth()+
1,c=a.getDate(),d=a.getHours(),e=a.getMinutes(),h=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)+":"+(10>h?"0"+h:""+h)};p.Sd=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-
1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};p.ic=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};p.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};p.indexOf=function(a,b,c){var d=a.length;0>c&&(c+=d,0>c&&(c=0));for(;c<d;){if(a[c]===b)return c;c++}return-1};p.remove=function(a,b){var c=p.indexOf(a,b,0);if(-1==c)return!1;a.splice(c,1);return!0};p.pb=function(a){return{md:0,
fd:a,R:function(){return this.md<this.fd.length},next:function(){return this.fd[this.md++]}}};qb.b=["Lambda"];qb.has=function(a,b){for(var c=Na(a)();c.R();)if(c.next()==b)return!0;return!1};$b.b=["Main"];$b.Me=function(){g.ready().kf(function(){var a=new Ib,b=new Ab,c=new Bb(b,a);la.Be(a);la.Ae(b);a=t.first(".container");b=new Mb({});Yb.create(new Lb(b),a,c).document.statusbar.right.a.c.innerHTML="0.1.20+96".toString()})};cc.b=["_Map","Map_Impl_"];Ua.b=["IMap"];Ua.prototype={get:null,H:null,keys:null,
d:Ua};Math.b=["Math"];la.b=["PropertyFeeder"];la.Be=function(a){la.Cb.map(function(b){a.add(b.name,la.te(b.display,b.name))});a.add("text",la.se())};la.Ae=function(a){a.gd("text",["strong","emphasis","text"]);a.gd("block",["strong","emphasis"])};la.te=function(a,b){return{name:b,display:a,type:f.Ca,create:function(a){a=new Ha(a,b,b);a.stream.set(!0);return a}}};la.se=function(){return{name:"text",display:"content",type:f.ma,create:function(a){return new Ra(a,null)}}};n.b=["Reflect"];n.w=function(a,
b){try{return a[b]}catch(c){return null}};n.Kc=function(a,b,c){a[b]=c};n.l=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};n.fa=function(a){return"function"==typeof a&&!(a.b||a.K)};n.pe=function(a,b){return a==b?!0:n.fa(a)&&n.fa(b)?a.scope==b.scope&&a.method==b.method&&null!=a.method:!1};n.ka=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.e||"function"==b&&
null!=(a.b||a.K)};k.b=["Std"];k.i=function(a){return x.Sa(a,"")};k["int"]=function(a){return a|0};k.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=p.ic(a,1)&&88!=p.ic(a,1)||(b=parseInt(a));return isNaN(b)?null:b};k.parseFloat=function(a){return parseFloat(a)};Oa.b=["StringBuf"];Oa.prototype={f:null,add:function(a){this.f+=k.i(a)},bd:function(a,b,c){this.f=null==c?this.f+p.substr(a,b,null):this.f+p.substr(a,b,c)},d:Oa};A.b=["StringTools"];A.Rd=function(a,b){return a.length>=b.length&&p.substr(a,
0,b.length)==b};A.zd=function(a,b){var c=p.ic(a,b);return 8<c&&14>c||32==c};A.Fc=function(a){for(var b=a.length,c=0;c<b&&A.zd(a,c);)c++;return 0<c?p.substr(a,c,b-c):a};A.Xe=function(a){for(var b=a.length,c=0;c<b&&A.zd(a,b-c-1);)c++;return 0<c?p.substr(a,0,b-c):a};A.trim=function(a){return A.Fc(A.Xe(a))};A.ya=function(a,b){if(0>=b.length)return a;for(;2>a.length;)a=b+a;return a};A.replace=function(a,b,c){return a.split(b).join(c)};var q={K:["ValueType"],Y:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" "),
wb:["TNull",0]};q.wb.toString=m;q.wb.e=q;q.ac=["TInt",1];q.ac.toString=m;q.ac.e=q;q.Zb=["TFloat",2];q.Zb.toString=m;q.Zb.e=q;q.Yb=["TBool",3];q.Yb.toString=m;q.Yb.e=q;q.xb=["TObject",4];q.xb.toString=m;q.xb.e=q;q.$b=["TFunction",5];q.$b.toString=m;q.$b.e=q;q.Uc=function(a){a=["TClass",6,a];a.e=q;a.toString=m;return a};q.ie=function(a){a=["TEnum",7,a];a.e=q;a.toString=m;return a};q.bc=["TUnknown",8];q.bc.toString=m;q.bc.e=q;r.b=["Type"];r.da=function(a){return null==a?null:a instanceof Array&&null==
a.e?Array:a.d};r.Ie=function(a){return null==a?null:a.e};r.Ya=function(a){return a.b.join(".")};r.vc=function(a){return a.K.join(".")};r.wc=function(a){var b=[],c;for(c in a.prototype)b.push(c);p.remove(b,"__class__");p.remove(b,"__properties__");return b};r["typeof"]=function(a){switch(typeof a){case "boolean":return q.Yb;case "string":return q.Uc(String);case "number":return Math.ceil(a)==a%2147483648?q.ac:q.Zb;case "object":if(null==a)return q.wb;var b=a.e;if(null!=b)return q.ie(b);a=a instanceof
Array&&null==a.e?Array:a.d;return null!=a?q.Uc(a):q.xb;case "function":return a.b||a.K?q.xb:q.$b;case "undefined":return q.wb;default:return q.bc}};r.Xa=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,d=a.length;c<d;){var e=c++;if(!r.Xa(a[e],b[e]))return!1}var h=a.e;if(h!=b.e||null==h)return!1}catch(f){return!1}return!0};O.b=["cards","components","Component"];O.prototype={Ka:null,parent:null,I:null,c:null,list:null,Ta:function(a){a.appendChild(this.c);this.Ka=!0},detach:function(){if(!this.Ka)throw"Component is not attached";
this.c.parentElement.removeChild(this.c);this.Ka=!1},mb:function(){null!=this.parent&&this.parent.remove(this);this.Ka&&this.detach();this.I.Te()},add:function(a){null!=a.parent&&a.parent.remove(a);this.list.push(a);a.parent=this},remove:function(a){if(!p.remove(this.list,a))throw""+k.i(a)+" is not a child of "+k.i(this);a.parent=null},toString:function(){return r.Ya(r.da(this)).split(".").pop()},d:O};Nb.b=["cards","components","Properties"];Nb.prototype={I:null,target:null,Te:function(){for(var a=
this.I.keys();a.R();){var b=a.next();this.remove(b)}},add:function(a){if(this.I.H(a.name))throw""+k.i(this.target)+" already has a property "+k.i(a);this.I.set(a.name,a)},get:function(a){return this.I.get(a)},H:function(a){return this.I.H(a)},remove:function(a){if(!this.I.H(a))throw'property "'+a+'" does not exist in '+k.i(this.target);var b=this.I.get(a);this.I.remove(a);b.ba()},d:Nb};Mb.b=["cards","model","Data"];Mb.prototype={root:null,Ua:null,value:null,resolve:function(a){var b=this.Ua.get(a);
null==b&&(b=this.root.resolve(a),b.U()&&this.Ua.set(a,b));return b},get:function(a){return this.resolve(a).get()},U:function(a){return this.resolve(a).U()},set:function(a,b){var c=this.resolve(a);this.Ua.set(a,c);c.get()!=b&&(c.set(b),this.value.set(this.n()));return this},reset:function(a){this.root=new Ca(null);this.Ua=new da;null!=a&&this.set("",a);this.value.set(this.n());return this},remove:function(a){var b=this.Ua.get(a);null==b&&(b=this.root.resolve(a));b.U()&&(b.remove(),this.value.set(this.n()));
this.Ua.remove(a)},Jc:function(a,b){if(!this.U(a)||this.U(b))return!1;var c=this.get(a);this.remove(a);this.set(b,c);this.value.set(this.n());return!0},n:function(){return this.root.get()},d:Mb};var bc={K:["cards","model","DataEvent"],Y:["SetValue"],ge:function(a,b,c){a=["SetValue",0,a,b,c];a.e=bc;a.toString=m;return a}},Ob={K:["cards","model","Expression"],Y:["Fun","SyntaxError"],ae:function(a){a=["Fun",0,a];a.e=Ob;a.toString=m;return a},SyntaxError:function(a){a=["SyntaxError",1,a];a.e=Ob;a.toString=
m;return a}};Xb.b=["cards","model","Expressions"];Xb.lf=function(a){switch(a[1]){case 1:return I.Qa(a[2]);default:return I.N}};Lb.b=["cards","model","Model"];Lb.prototype={data:null,eb:null,od:null,Ze:null,kb:null,aa:null,d:Lb};U.b=["cards","model","Runtime"];U.re=function(a){return new Function("$,scope",a)};U.Ee=function(a,b){return""+n.l(b).map(function(a){return"var "+a+" = scope."+a+";"}).join("\n")+"\ndelete scope;\nreturn "+a+";"};U.ze=function(a){for(var b=new Pa;U.pattern.match(a);)b.add(U.pattern.qb(1)),
a=U.pattern.Gc();return z.Jb(b.ha(),Tb.compare)};U.Vd=function(a,b){var c;try{var d=new Jb,e=U.Ee(a,d),h=U.re(e);c=Ob.ae(function(){try{return Pb.ee(h(b.data.n(),d))}catch(a){return Pb.Error(k.i(a))}})}catch(f){c=Ob.SyntaxError(k.i(f))}return new U(c,a)};U.prototype={oc:null,code:null,Fb:null,d:U};var Pb={K:["cards","model","RuntimeResult"],Y:["Result","Error"],ee:function(a){a=["Result",0,a];a.e=Pb;a.toString=m;return a},Error:function(a){a=["Error",1,a];a.e=Pb;a.toString=m;return a}};Kb.b=["cards",
"model","Schema"];Kb.prototype={l:null,stream:null,aa:null,add:function(a,b){if(this.l.H(a))throw new na(0,null,{fileName:"Schema.hx",lineNumber:20,className:"cards.model.Schema",$a:"add"});this.l.set(a,b);this.aa.B(wa.Xd(a,b))},"delete":function(a){if(!this.l.H(a))throw new na(0,null,{fileName:"Schema.hx",lineNumber:37,className:"cards.model.Schema",$a:"delete"});this.l.remove(a);this.aa.B(wa.Yd(a))},Jc:function(a,b){if(!this.l.H(a))throw new na(0,null,{fileName:"Schema.hx",lineNumber:44,className:"cards.model.Schema",
$a:"rename"});var c=this.l.get(a);this.l.remove(a);this.l.set(b,c);this.aa.B(wa.de(a,b))},We:function(a,b){if(!this.l.H(a))throw new na(0,null,{fileName:"Schema.hx",lineNumber:53,className:"cards.model.Schema",$a:"retype"});this.l.set(a,b);this.aa.B(wa.fe(a,b))},d:Kb};var wa={K:["cards","model","SchemaEvent"],Y:["ListFields","AddField","DeleteField","RenameField","RetypeField"],mf:function(a){a=["ListFields",0,a];a.e=wa;a.toString=m;return a},Xd:function(a,b){var c=["AddField",1,a,b];c.e=wa;c.toString=
m;return c},Yd:function(a){a=["DeleteField",2,a];a.e=wa;a.toString=m;return a},de:function(a,b){var c=["RenameField",3,a,b];c.e=wa;c.toString=m;return c},fe:function(a,b){var c=["RetypeField",4,a,b];c.e=wa;c.toString=m;return c}},f={K:["cards","model","SchemaType"],Y:"ArrayType BoolType DateType FloatType ObjectType StringType CodeType ReferenceType".split(" "),Rb:function(a){a=["ArrayType",0,a];a.e=f;a.toString=m;return a},Ca:["BoolType",1]};f.Ca.toString=m;f.Ca.e=f;f.Pa=["DateType",2];f.Pa.toString=
m;f.Pa.e=f;f.Da=["FloatType",3];f.Da.toString=m;f.Da.e=f;f.gb=function(a){a=["ObjectType",4,a];a.e=f;a.toString=m;return a};f.ma=["StringType",5];f.ma.toString=m;f.ma.e=f;f.xa=["CodeType",6];f.xa.toString=m;f.xa.e=f;f.Ea=["ReferenceType",7];f.Ea.toString=m;f.Ea.e=f;Jb.b=["cards","model","Scope"];Jb.prototype={d:Jb};Z.b=["cards","model","ref","BaseRef"];Z.prototype={parent:null,d:Z};Ma.b=["cards","model","ref","IParentRef"];Ma.prototype={removeChild:null,d:Ma};La.b=["cards","model","ref","IRef"];La.prototype=
{get:null,set:null,remove:null,U:null,resolve:null,toString:null,d:La};Ka.b=["cards","model","ref","ArrayRef"];Ka.L=[Ma,La];Ka.v=Z;Ka.prototype=D(Z.prototype,{items:null,inverse:null,get:function(){var a=this,b=[];ha.Jb(z.k(this.items.keys()),Vb.compare).map(function(b){return a.items.get(b)}).map(function(a){a.U()&&b.push(a.get())});return b},set:function(a){var b=this;if(!(a instanceof Array&&null==a.e))throw'value "'+k.i(a)+'" is not an array';a.map(function(a,d){var e=b.items.get(d);if(null==
e){var h=e=R.uc(a,b);b.items.set(d,h);b.inverse.set(e,d)}else e.set(a)})},remove:function(){for(var a=this.items.ha();a.R();)a.next().remove();this.parent.removeChild(this)},removeChild:function(a){var b=this.inverse.s[a.na];if(null==b)throw'"'+k.i(a)+'" is not child of "'+k.i(this)+'"';this.items.remove(b);this.inverse.remove(a)},U:function(){for(var a=this.items.ha();a.R();)if(a.next().U())return!0;return!1},resolve:function(a,b){null==b&&(b=!0);if(""==a)return this;if(!R.Mb.match(a))throw'unable to resolve "'+
a+'" for ArrayRef';var c=k.parseInt(R.Mb.qb(1)),d=R.Mb.Gc(),e=this.items.get(c);if(null==e){var h=e=R.tc(d,this,b);this.items.set(c,h);this.inverse.set(e,c)}return e.resolve(d,b)},toString:function(){return"ArrayRef: "+this.items.toString()},d:Ka});ua.b=["cards","model","ref","EmptyParent"];ua.L=[Ma];ua.prototype={removeChild:function(){},d:ua};Ca.b=["cards","model","ref","ObjectRef"];Ca.L=[Ma,La];Ca.v=Z;Ca.prototype=D(Z.prototype,{l:null,inverse:null,get:function(){var a=this,b={};z.map(this.l.keys(),
function(c){var d=a.l.get(c);d.U()&&n.Kc(b,c,d.get())});return b},set:function(a){var b=this;if(!n.ka(a)||null!=r.da(a))throw'object "'+k.i(a)+'" is not an anonymous object';n.l(a).map(function(c){var d=b.l.get(c),e=n.w(a,c);null==d?(d=R.uc(e,b),b.l.set(c,d),b.inverse.set(d,c)):d.set(e)})},U:function(){for(var a=this.l.ha();a.R();)if(a.next().U())return!0;return!1},remove:function(){z.map(this.l.ha(),function(a){a.remove()});this.parent.removeChild(this)},removeChild:function(a){var b=this.inverse.s[a.na];
if(null==b)throw'"'+k.i(a)+'" is not child of "'+k.i(this)+'"';this.inverse.remove(a);this.l.remove(b)},resolve:function(a,b){null==b&&(b=!1);if(""==a)return this;if(!R.Lb.match(a))throw'unable to resolve "'+a+'" for ObjectRef';var c=R.Lb.qb(1),d=R.Lb.Gc(),e=this.l.get(c);if(null==e){var h=e=R.tc(d,this,b);this.l.set(c,h);this.inverse.set(e,c)}return e.resolve(d,b)},toString:function(){return"ObjectRef: "+this.l.toString()},d:Ca});R.b=["cards","model","ref","Ref"];R.uc=function(a,b){null==b&&(b=ua.Bc);
var c;c=a instanceof Array&&null==a.e?new Ka(b):n.ka(a)&&null==r.da(a)?new Ca(b):new Ja(b);c.set(a);return c};R.tc=function(a,b,c){null==c&&(c=!0);console.log(""+a+" with "+k.i(b)+" "+(null==c?"null":""+c));null==b&&(b=ua.Bc);if(""==a)return c?new Ja(b):new Ta(b);if(R.Lb.match(a))return new Ca(b);if(R.Mb.match(a))return new Ka(b);throw'invalid path "'+a+'"';};Ta.b=["cards","model","ref","UnknownRef"];Ta.L=[Ma,La];Ta.v=Z;Ta.prototype=D(Z.prototype,{X:null,pa:null,get:function(){return this.pa?this.X.get():
null},set:function(a){this.pa?this.X.set(a):(this.pa=!0,this.X=R.uc(a,this))},remove:function(){this.pa&&this.X.remove();this.parent.removeChild(this)},removeChild:function(){this.pa&&(this.X=null,this.pa=!1)},U:function(){return this.pa&&this.X.U()},resolve:function(a,b){null==b&&(b=!0);if(this.pa)return this.X.resolve(a,b);if(""==a)return this;this.pa=!0;this.X=R.tc(a,this,b);return this.X.resolve(a,b)},toString:function(){return"UnknownRef: "+k.i(this.X)},d:Ta});Ja.b=["cards","model","ref","ValueRef"];
Ja.L=[La];Ja.v=Z;Ja.prototype=D(Z.prototype,{yb:null,value:null,get:function(){return this.value},set:function(a){this.value=a;this.yb=!0},remove:function(){this.value=null;this.yb=!1;this.parent.removeChild(this)},U:function(){return this.yb},resolve:function(a){if(""!=a)throw'unable to resolve path "'+a+'" on ValueRef';return this},toString:function(){return"ValueRef: "+k.i(this.value)},d:Ja});Ia.b=["cards","properties","Property"];Ia.prototype={a:null,name:null,hc:null,ba:function(){for(;0<this.hc.length;)this.hc.shift()();
this.a.I.H(this.name)&&(this.a.I.remove(this.name),this.a=null)},toString:function(){return r.Ya(r.da(this)).split(".").pop()},d:Ia};Y.b=["cards","properties","ValueProperty"];Y.v=Ia;Y.prototype=D(Ia.prototype,{stream:null,Na:null,Aa:null,transform:function(){throw r.Ya(r.da(this)).split(".").pop()+".transform() is abstract and must be overridden";},ba:function(){this.stream.clear();this.Na.clear();this.Aa.clear();Ia.prototype.ba.call(this)},d:Y});Ba.b=["cards","properties","BoolProperty"];Ba.v=Y;
Ba.prototype=D(Y.prototype,{transform:function(a){return N.m(a)},d:Ba});Sa.b=["cards","properties","StringProperty"];Sa.v=Y;Sa.prototype=D(Y.prototype,{transform:function(a){return N.toString(a)},d:Sa});Ra.b=["cards","properties","Text"];Ra.v=Sa;Ra.prototype=D(Sa.prototype,{d:Ra});Ha.b=["cards","properties","ToggleClass"];Ha.v=Ba;Ha.prototype=D(Ba.prototype,{d:Ha});Ib.b=["cards","properties","ValueProperties"];Ib.prototype={map:null,add:function(a,b){this.map.set(a,b)},get:function(a){return this.map.get(a)},
xe:function(a,b){return b.I.H(a)?x.Wc(b.I.get(a),Y):this.get(a).create(b)},d:Ib};pb.b=["cards","properties","Visible"];pb.v=Ba;pb.prototype=D(Ba.prototype,{d:pb});v.b=["cards","types","ArrayTransform"];v.k=function(a){return null!=a?a:[]};v.m=function(a){return 0<v.k(a).length};v.J=function(a){var b=[2E3,0,1,0,0,0];a=v.k(a).map(N.u).map(function(a){return Math.round(a)}).slice(0,b.length);a=a.concat(b.slice(a.length));return new Date(a[0],a[1],a[2],a[3],a[4],a[5])};v.u=function(a){return v.k(a).length};
v.n=function(a){var b={};ha.Pe(v.k(a),function(a,d){b["field_"+(d+1)]=a});return b};v.toString=function(a){return v.k(a).map(N.toString).join(", ")};v.p=function(a){return"["+v.k(a).map(N.p).join(",")+"]"};v.F=function(){return""};H.b=["cards","types","BoolTransform"];H.k=function(a){return[H.m(a)?!1:a]};H.m=function(a){return null!=a&&a};H.J=function(){return new Date};H.u=function(a){return H.m(a)?1:0};H.n=function(a){return v.n([H.m(a)])};H.toString=function(a){return H.m(a)?"Yes":"No"};H.p=function(a){return H.m(a)?
"true":"false"};H.F=function(){return""};B.b=["cards","types","CodeTransform"];B.k=function(a){try{var b=JSON.parse(B.p(a));return b instanceof Array&&null==b.e?b:N.k(b)}catch(c){return[]}};B.m=function(a){switch(B.p(a)){case "true":case "1":return!0;default:return!1}};B.J=function(a){if(B.pd.match(a)){a=k.parseFloat(B.pd.qb(1));var b=new Date;b.setTime(a);return b}return new Date};B.u=function(a){return k.parseFloat(B.p(a))};B.n=function(a){try{var b=JSON.parse(B.p(a));return n.ka(b)&&"string"!=
typeof b?b:N.n(b)}catch(c){return{}}};B.toString=function(a){try{var b=JSON.parse(B.p(a));return"string"==typeof b?b:N.toString(b)}catch(c){return""}};B.p=function(a){return null!=a?A.trim(a):"null"};B.F=function(a){a=B.p(a);return B.Sc.match(a)?B.Sc.qb(1):""};G.b=["cards","types","DateTransform"];G.k=function(a){return[G.J(a)]};G.m=function(){return!1};G.J=function(a){return null!=a?a:new Date};G.u=function(a){return G.J(a).getTime()};G.n=function(a){return v.n([G.J(a)])};G.toString=function(a){a=
G.J(a);return p.ue(a)};G.p=function(a){return"new Date("+G.J(a).getTime()+")"};G.F=function(){return""};N.b=["cards","types","DynamicTransform"];N.k=function(a){if(null==a)return[];if(a instanceof Array&&null==a.e)return v.k(a);if("boolean"==typeof a)return H.k(a);if(x.T(a,Date))return G.k(a);if("number"==typeof a)return C.k(a);if("string"==typeof a)return E.k(a);if(n.ka(a))return F.k(a);if(n.fa(a))return N.k(null);throw"Type of "+k.i(a)+" cannot be matched by DynamicTransform.toArray";};N.m=function(a){if(null==
a)return!1;if(a instanceof Array&&null==a.e)return v.m(a);if("boolean"==typeof a)return H.m(a);if(x.T(a,Date))return G.m(a);if("number"==typeof a)return C.m(a);if("string"==typeof a)return E.m(a);if(n.ka(a))return F.m(a);if(n.fa(a))return N.m(null);throw"Type of "+k.i(a)+" cannot be matched by DynamicTransform.toBool";};N.u=function(a){if(null==a)return 0;if(a instanceof Array&&null==a.e)return v.u(a);if("boolean"==typeof a)return H.u(a);if(x.T(a,Date))return G.u(a);if("number"==typeof a)return C.u(a);
if("string"==typeof a)return E.u(a);if(n.ka(a))return F.u(a);if(n.fa(a))return N.u(null);throw"Type of "+k.i(a)+" cannot be matched by DynamicTransform.toFloat";};N.n=function(a){if(null==a)return{};if(a instanceof Array&&null==a.e)return v.n(a);if("boolean"==typeof a)return H.n(a);if(x.T(a,Date))return G.n(a);if("number"==typeof a)return C.n(a);if("string"==typeof a)return E.n(a);if(n.ka(a))return F.n(a);if(n.fa(a))return N.n(null);throw"Type of "+k.i(a)+" cannot be matched by DynamicTransform.toObject";
};N.toString=function(a){if(null==a)return"";if(a instanceof Array&&null==a.e)return v.toString(a);if("boolean"==typeof a)return H.toString(a);if(x.T(a,Date))return G.toString(a);if("number"==typeof a)return C.toString(a);if("string"==typeof a)return E.toString(a);if(n.ka(a))return F.toString(a);if(n.fa(a))return N.toString(null);throw"Type of "+k.i(a)+" cannot be matched by DynamicTransform.toString";};N.p=function(a){if(null==a)return"null";if(a instanceof Array&&null==a.e)return v.p(a);if("boolean"==
typeof a)return H.p(a);if(x.T(a,Date))return G.p(a);if("number"==typeof a)return C.p(a);if("string"==typeof a)return E.p(a);if(n.ka(a))return F.p(a);if(n.fa(a))return N.p(null);throw"Type of "+k.i(a)+" cannot be matched by DynamicTransform.toCode";};C.b=["cards","types","FloatTransform"];C.k=function(a){return[C.u(a)]};C.m=function(a){return 0!=C.u(a)};C.J=function(a){a=C.u(a);var b=new Date;b.setTime(a);return b};C.u=function(a){return null!=a?a:0};C.n=function(a){return v.n([C.u(a)])};C.toString=
function(a){return""+C.u(a)};C.p=function(a){return""+C.u(a)};C.F=function(){return""};F.b=["cards","types","ObjectTransform"];F.k=function(a){return[F.n(a)]};F.m=function(a){return!Ub.Le(F.n(a))};F.J=function(){return new Date};F.u=function(a){return n.l(F.n(a)).length};F.n=function(a){return null!=a?a:{}};F.toString=function(a){return n.l(F.n(a)).map(function(b){return""+b+": "+N.toString(n.w(a,b))}).join(", ")};F.p=function(a){return"{"+n.l(F.n(a)).map(function(b){return'"'+b+'" : '+N.p(n.w(a,
b))}).join(", ")+"}"};F.F=function(){return""};Q.b=["cards","types","ReferenceTransform"];Q.k=function(){return v.k(null)};Q.m=function(){return H.m(null)};Q.J=function(){return G.J(null)};Q.u=function(){return C.u(null)};Q.n=function(){return F.n(null)};Q.toString=function(){return E.toString(null)};Q.p=function(a){a=Q.F(a);return""==a?"":"$."+a};Q.F=function(a){return null==a?"":a};E.b=["cards","types","StringTransform"];E.k=function(a){return E.toString(a).split(",").map(A.trim)};E.m=function(a){switch(A.trim(E.toString(a)).toLowerCase()){case "":case "off":case "no":case "false":case "0":return!1;
default:return!0}};E.J=function(a){try{return p.Sd(a)}catch(b){return new Date}};E.u=function(a){return k.parseFloat(E.toString(a))};E.n=function(a){return v.n([E.toString(a)])};E.toString=function(a){return null!=a?a:""};E.p=function(a){return'"'+A.replace(E.toString(a),'"','\\"')+'"'};E.F=function(){return""};Zb.b=["cards","types","TypeTransform"];Zb.transform=function(a,b){switch(a[1]){case 0:switch(b[1]){case 0:return v.k;case 1:return v.m;case 2:return v.J;case 3:return v.u;case 4:return v.n;
case 5:return v.toString;case 6:return v.p;case 7:return v.F}break;case 1:switch(b[1]){case 0:return H.k;case 1:return H.m;case 2:return H.J;case 3:return H.u;case 4:return H.n;case 5:return H.toString;case 6:return H.p;case 7:return H.F}break;case 2:switch(b[1]){case 0:return G.k;case 1:return G.m;case 2:return G.J;case 3:return G.u;case 4:return G.n;case 5:return G.toString;case 6:return G.p;case 7:return G.F}break;case 3:switch(b[1]){case 0:return C.k;case 1:return C.m;case 2:return C.J;case 3:return C.u;
case 4:return C.n;case 5:return C.toString;case 6:return C.p;case 7:return C.F}break;case 4:switch(b[1]){case 0:return F.k;case 1:return F.m;case 2:return F.J;case 3:return F.u;case 4:return F.n;case 5:return F.toString;case 6:return F.p;case 7:return F.F}break;case 5:switch(b[1]){case 0:return E.k;case 1:return E.m;case 2:return E.J;case 3:return E.u;case 4:return E.n;case 5:return E.toString;case 6:return E.p;case 7:return E.F}break;case 6:switch(b[1]){case 0:return B.k;case 1:return B.m;case 2:return B.J;
case 3:return B.u;case 4:return B.n;case 5:return B.toString;case 6:return B.p;case 7:return B.F}break;case 7:switch(b[1]){case 0:return Q.k;case 1:return Q.m;case 2:return Q.J;case 3:return Q.u;case 4:return Q.n;case 5:return Q.toString;case 6:return Q.p;case 7:return Q.F}}};Fb.b=["cards","ui","Article"];Fb.prototype={a:null,ja:null,rc:null,vd:null,Zc:function(a){var b=a.focus.sa(!0).map(function(){return a}).Ma(this.rc);this.vd.set(a,J(b,b.cancel))},Xc:function(){var a=new Qa({parent:this.a,A:this.a.c});
this.Zc(a);this.$c(a);return a},$c:function(a){a=new gb({ud:a,A:a.a.c,Ha:""});this.Zc(a);a.focus.set(!0)},d:Fb};Yb.b=["cards","ui","Card"];Yb.create=function(a,b,c){var d=new O({o:'<div class="card"><div class="doc"></div><aside><div class="context"></div><div class="model"></div></aside></div>'}),e=new Db,h=new Aa({c:t.first(".doc",d.c)});c=new Gb(h,a,e,c,{c:t.first(".context",d.c)});e.a.Ta(t.first(".model",d.c));e.data.g(a.od);d.Ta(b);h.ga.Xc();return{qf:d,tb:e,document:h,rf:c}};ta.b=["cards","ui",
"widgets","FrameOverlay"];ta.prototype={a:null,visible:null,zb:null,Hc:null,fc:null,Ab:function(a,b,c){this.zb=a;this.Hc=null==b?s.dc:b;this.fc=null==c?s.Tb:c;this.visible.stream.get()&&this.Id()},Id:function(){if(!this.a.Ka){var a=[t.first(P.$e.le),window.document.body].filter(function(a){return null!=a}).shift();this.a.Ta(a)}a=this.a.c.style;a.position="fixed";var b=this.zb.getBoundingClientRect(),c=this.a.c.getBoundingClientRect(),d=0,e=0;switch(this.fc[1]){case 0:case 1:case 2:e=b.top;break;case 3:case 4:case 5:e=
b.top+b.height/2;break;case 6:case 7:case 8:e=b.top+b.height}switch(this.fc[1]){case 0:case 3:case 6:d=b.left;break;case 1:case 4:case 7:d=b.left+b.width/2;break;case 2:case 5:case 8:d=b.left+b.width}switch(this.Hc[1]){case 0:case 1:case 2:e-=0;break;case 3:case 4:case 5:e-=c.height/2;break;case 6:case 7:case 8:e-=c.height}switch(this.Hc[1]){case 0:case 3:case 6:d-=0;break;case 1:case 4:case 7:d-=c.width/2;break;case 2:case 5:case 8:d-=c.width}a.top=e+"px";a.left=d+"px"},d:ta};ob.b=["cards","ui",
"widgets","Tooltip"];ob.v=ta;ob.prototype=D(ta.prototype,{af:function(a){this.a.c.innerHTML=a},d:ob});x.b=["js","Boot"];x.da=function(a){return a instanceof Array&&null==a.e?Array:a.d};x.Sa=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.b||a.K)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.e){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,e=a.length;d<e;)var h=d++,c=2!=h?c+(","+x.Sa(a[h],b)):c+x.Sa(a[h],b);return c+
")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)h=e++,d+=(0<h?",":"")+x.Sa(a[h],b);return d+"]"}try{d=a.toString}catch(f){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)e&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+x.Sa(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";
case "string":return a;default:return String(a)}};x.ec=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.L;if(null!=c)for(var d=0,e=c.length;d<e;){var h=d++,h=c[h];if(h==b||x.ec(h,b))return!0}return x.ec(a.v,b)};x.T=function(a,b){if(null==b)return!1;switch(b){case gc:return(a|0)===a;case dc:return"number"==typeof a;case ec:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.e;case hc:return!0;default:if(null!=a){if("function"==typeof b&&
(a instanceof b||x.ec(x.da(a),b)))return!0}else return!1;return b==ic&&null!=a.b||b==jc&&null!=a.K?!0:a.e==b}};x.Wc=function(a,b){if(x.T(a,b))return a;throw"Cannot cast "+k.i(a)+" to "+k.i(b);};Hb.b=["udom","Html"];Hb.Ed=function(a){var b=window.document.createElement("div");b.innerHTML=a;return b.childNodes};g.b=["thx","stream","dom","Dom"];g.ready=function(){return ma.create(function(a){window.document.addEventListener("DOMContentLoaded",function(){a(rb.Ib)},!1)})};g.O=function(a,b,c){null==c&&
(c=!1);return new S(function(d){a.addEventListener(b,J(d,d.B),c);d.Fa(function(){a.removeEventListener(b,J(d,d.B),c)})})};g.ua=function(a){var b;null==b&&(b=!1);return g.O(a,"focus",b).Lc().sb(g.O(a,"blur",b).Td())};g.ef=function(a){var b,c="up";null==b&&(b=!1);return new S(function(){A.Rd(c,"key")||(c="key"+c);return function(d){a.addEventListener(c,J(d,d.B),b);d.Fa(function(){a.removeEventListener(c,J(d,d.B),b)})}}(this))};g.df=function(a){var b=null;null==b&&(b=!1);return g.O(a,"input",b).map(function(){return a.value})};
g.va=function(a){return function(b){b?a.focus():a.blur()}};g.ff=function(a){return function(b){a.innerHTML=b}};g.gf=function(a){var b;null==b&&(b=!1);return function(c){if(a.textContent!=c||b)a.textContent=c}};g.hf=function(a){var b="disabled";null==b&&(b=a.getAttribute("disabled"));return function(c){c?a.setAttribute("disabled",b):a.removeAttribute("disabled")}};g.Oa=function(a,b){return function(c){c?a.classList.add(b):a.classList.remove(b)}};g.jf=function(a){var b=a.style.display;"none"==b&&(b=
"");return function(c){a.style.display=c?b:"none"}};S.b=["thx","stream","Emitter"];S.prototype={ea:null,q:function(a){var b=new aa(null);b.fb=function(c){switch(c[1]){case 0:a.set(c[2]);break;case 2:b.oa(c[2]);break;case 1:c[2]?b.cancel():b.end()}};a.wa.push(b);b.Fa(function(){p.remove(a.wa,b)});this.ea(b);return b},Ma:function(a){var b=new aa(null);b.fb=J(a,a.C);a.wa.push(b);b.Fa(function(){p.remove(a.wa,b)});this.ea(b);return b},g:function(a,b,c){null==a&&(a=function(){});null==b&&(b=function(){});
null==c&&(c=function(){});var d=new aa(function(d){switch(d[1]){case 0:a(d[2]);break;case 2:b(d[2]);break;case 1:c(d[2])}});this.ea(d);return d},qd:function(a){var b=this;return new S(function(c){function d(){}c.Fa(function(){d()});b.ea(new aa(function(b){switch(b[1]){case 0:b=b[2];d();d=xa.Eb(function(a,b){return function(){return a(b)}}(J(c,c.B),b),a);break;case 2:c.oa(b[2]);break;case 1:switch(b[2]){case !0:c.cancel();break;case !1:xa.Eb(J(c,c.end),a)}}}))})},sb:function(a){var b=this;return new S(function(c){b.ea(c);
a.ea(c)})},Hd:function(){var a=this;return new S(function(b){var c=null,d=!0;a.ea(new aa(function(a){switch(a[1]){case 0:a=a[2];d?d=!1:b.B(c);c=a;break;case 2:b.oa(a[2]);break;case 1:switch(a[2]){case !0:b.cancel();break;case !1:b.end()}}}))})},window:function(a,b){null==b&&(b=!1);var c=this;return new S(function(d){var e=[];c.ea(new aa(function(c){switch(c[1]){case 0:e.push(c[2]);e.length>a&&e.shift();(e.length==a||b)&&d.B(e.slice());break;case 2:d.oa(c[2]);break;case 1:switch(c[2]){case !0:d.cancel();
break;case !1:d.end()}}}))})},Oe:function(a){var b=this;return new S(function(c){b.ea(new aa(function(b){switch(b[1]){case 0:a(b[2]).Wa(function(a){c.B(a)},function(a){c.oa(a)});break;case 2:c.oa(b[2]);break;case 1:switch(b[2]){case !0:c.cancel();break;case !1:c.end()}}}))})},map:function(a){return this.Oe(function(b){return ma.value(a(b))})},Pb:function(){return this.map(function(a){return null==a?I.N:I.Qa(a)})},Ud:function(){return this.map(function(){return rb.Ib})},Lc:function(){return this.map(function(){return!0})},
Td:function(){return this.map(function(){return!1})},Ce:function(a){var b=this;return new S(function(c){b.ea(new aa(function(b){switch(b[1]){case 0:var e=b[2];a(e).Wa(function(a){a&&c.B(e)},function(a){c.oa(a)});break;case 2:c.oa(b[2]);break;case 1:switch(b[2]){case !0:c.cancel();break;case !1:c.end()}}}))})},filter:function(a){return this.Ce(function(b){return ma.value(a(b))})},rd:function(a){null==a&&(a=function(a,b){return a==b});var b=null;return this.filter(function(c){if(a(c,b))return!1;b=c;
return!0})},Qe:function(){return this.filter(function(a){return null!=a})},sa:function(a){return this.filter(function(b){return b==a})},gc:function(a){return this.map(function(b){a(b);return b})},d:S};w.b=["thx","stream","Value"];w.ld=function(){return new w(I.N,function(a,b){return function(c,d){return a(c,d,b)}}(M.nc,void 0))};w.v=S;w.prototype=D(S.prototype,{value:null,W:null,wa:null,ca:null,get:function(){return this.value},set:function(a){this.ca(this.value,a)||(this.value=a,this.update())},
kc:function(){for(var a=0,b=this.W.slice();a<b.length;){var c=b[a];++a;c.end()}},jc:function(){for(var a=0,b=this.wa.slice();a<b.length;){var c=b[a];++a;c.cancel()}},clear:function(){this.jc();this.kc()},update:function(){for(var a=0,b=this.W.slice();a<b.length;){var c=b[a];++a;c.B(this.value)}},d:w});var I={K:["haxe","ds","Option"],Y:["Some","None"],Qa:function(a){a=["Some",0,a];a.e=I;a.toString=m;return a},N:["None",1]};I.N.toString=m;I.N.e=I;W.b=["thx","stream","EmitterOptions"];W.Wa=function(a,
b,c,d,e){null==b&&(b=function(){});null==c&&(c=function(){});return a.g(function(a){switch(a[1]){case 0:b(a[2]);break;case 1:c()}},d,e)};W.Gb=function(a){return a.filter(function(a){return M.m(a)}).map(function(a){return M.M(a)})};W.m=function(a){return a.map(function(a){return M.m(a)})};M.b=["thx","core","Options"];M.nc=function(a,b,c){switch(a[1]){case 1:switch(b[1]){case 1:return!0;default:return!1}case 0:switch(b[1]){case 0:return a=a[2],b=b[2],null==c&&(c=function(a,b){return a==b}),c(a,b);default:return!1}}};
M.m=function(a){switch(a[1]){case 1:return!1;case 0:return!0}};M.M=function(a){switch(a[1]){case 1:return null;case 0:return a[2]}};ra.b=["cards","ui","ContextField"];ra.prototype={a:null,focus:null,Z:null,name:null,Qb:null,ta:null,type:null,mc:null,mb:function(){this.a.mb();this.focus=null},d:ra};Gb.b=["cards","ui","ContextView"];Gb.prototype={a:null,toolbar:null,document:null,w:null,ab:null,tb:null,c:null,button:null,rb:null,Hb:null,Ve:function(){this.Kd();this.Jd()},Od:function(a){this.bf(a);this.Md(a)},
Kd:function(){this.c.innerHTML=""},bf:function(a){var b=this;this.Kd();this.Hb.Ge(a).map(function(c){var d;d=x.Wc(a.a.I.get(c.name),Y);b.ke(c,d)})},ke:function(a,b){var c=new ra({A:this.c,parent:this.a,display:a.display,name:a.name,type:a.type,value:b,ab:this.ab,tb:this.tb});c.focus.sa(!0).map(function(){return I.Qa(c)}).q(this.w)},Jd:function(){this.button.remove.enabled.set(!1);this.button.M.enabled.set(!1);this.button.p.enabled.set(!1);this.button.F.enabled.set(!1);this.button.add.enabled.set(!1);
this.rb.add.clear()},Md:function(a){var b=this;this.Jd();var c=this.Hb.Fe(a);this.button.add.enabled.set(0<c.length);c.map(function(c){var e=new oa("add "+c.display);b.rb.add.Ga(e.a);e.P.g(function(){b.Hb.la.xe(c.name,a.a);b.Od(a)})})},d:Gb};Aa.b=["cards","ui","Document"];Aa.xc=function(a){return null==a?null:x.T(a,Qa)?a:Aa.xc(a.parent)};Aa.prototype={a:null,toolbar:null,ga:null,statusbar:null,d:Aa};Eb.b=["cards","ui","FieldValue"];Eb.prototype={type:null,t:null,parent:null,A:null,cd:null,dd:null,
Ba:function(a,b){null!=this.t&&(null==b&&(b=Zb.transform(this.type,a)(this.t.value.get())),this.dd(this.type,this.t),this.A.innerHTML="");this.type=a;this.t=Cb.Fd(a,this.A,this.parent,b);this.t.a.c.classList.add("value");this.cd(this.type,this.t)},d:Eb};Db.b=["cards","ui","ModelView"];Db.prototype={a:null,data:null,nd:null,t:null,Kc:function(a,b,c){L.ca(a,L.Ob(""))||L.ca(a,null)||this.t.G.B({j:a,h:X.Xb({j:c,h:b})})},d:Db};za.b=["cards","ui","editors","Editor"];za.prototype={value:null,focus:null,
a:null,d:za};nb.b=["cards","ui","editors","ArrayEditor"];nb.L=[za];nb.prototype={a:null,focus:null,value:null,type:null,Ja:null,cancel:null,items:null,Ga:function(a){var b=this,c=this.items.length,d=new O({o:"<li></li>",parent:this.a,A:this.a.c});a=Cb.Fd(this.Ja,d.c,d,a);a.value.map(function(a){var d;d=b.value.get().slice();d[c]=a;return d}).q(this.value);this.items.push({item:d,t:a})},d:nb};mb.b=["cards","ui","editors","BoolEditor"];mb.L=[za];mb.prototype={a:null,focus:null,value:null,type:null,
cancel:null,d:mb};ea.b=["cards","ui","editors","TextEditor"];ea.L=[za];ea.prototype={a:null,focus:null,value:null,type:null,cancel:null,d:ea};lb.b=["cards","ui","editors","CodeEditor"];lb.v=ea;lb.prototype=D(ea.prototype,{d:lb});kb.b=["cards","ui","editors","DateEditor"];kb.L=[za];kb.prototype={a:null,focus:null,value:null,type:null,cancel:null,d:kb};Cb.b=["cards","ui","editors","EditorPicker"];Cb.Fd=function(a,b,c,d){switch(a[1]){case 1:return new mb({A:b,parent:c,defaultValue:d});case 6:return new lb({A:b,
parent:c,Ha:d,za:"code"});case 7:return new ib({A:b,parent:c,Ha:d,za:"reference"});case 5:return new ea({A:b,parent:c,Ha:d,za:"content"});case 2:return new kb({A:b,parent:c,defaultValue:d});case 3:return new jb({A:b,parent:c,defaultValue:d});case 0:return new nb({A:b,parent:c,defaultValue:d,Ja:a[2]});default:throw"Editor for "+k.i(a)+" has not been implemented yet";}};jb.b=["cards","ui","editors","FloatEditor"];jb.L=[za];jb.prototype={a:null,focus:null,value:null,type:null,cancel:null,d:jb};ib.b=
["cards","ui","editors","ReferenceEditor"];ib.v=ea;ib.prototype=D(ea.prototype,{d:ib});hb.b=["cards","ui","fragments","Fragment"];hb.prototype={name:null,a:null,focus:null,Z:null,parent:null,toString:null,d:hb};Qa.b=["cards","ui","fragments","Block"];Qa.L=[hb];Qa.prototype={name:null,a:null,focus:null,Z:null,uid:null,parent:null,toString:function(){return this.name},d:Qa};Bb.b=["cards","ui","fragments","FragmentMapper"];Bb.prototype={sc:null,la:null,Ge:function(a){return z.filter(this.sc.xd(a.name),
function(b){return a.a.I.H(b)}).map((va=this.la,J(va,va.get)))},Fe:function(a){return z.filter(this.sc.xd(a.name),function(b){return!a.a.I.H(b)}).map((va=this.la,J(va,va.get)))},d:Bb};Ab.b=["cards","ui","fragments","FragmentProperties"];Ab.prototype={map:null,me:function(a,b){var c=this.map.get(a);if(null==c){var d=c=new Pa;this.map.set(a,d)}c.add(b)},gd:function(a,b){Ea.map(b,function(a,b){return function(e){return a(b,e)}}(J(this,this.me),a))},xd:function(a){a=this.map.get(a);null==a&&(a=new Pa);
return a.ha()},d:Ab};gb.b=["cards","ui","fragments","InlineText"];gb.L=[hb];gb.prototype={name:null,t:null,a:null,focus:null,Z:null,uid:null,parent:null,toString:function(){return this.name},d:gb};fb.b=["cards","ui","input","IEditor"];fb.prototype={stream:null,focus:null,a:null,ba:null,d:fb};K.b=["cards","ui","input","Editor"];K.L=[fb];K.prototype={stream:null,type:null,focus:null,a:null,ba:function(){this.stream.clear();this.focus.clear();this.a.mb()},d:K};qa.b=["cards","ui","input","IRouteEditor"];
qa.L=[fb];qa.prototype={G:null,d:qa};ka.b=["cards","ui","input","RouteEditor"];ka.L=[qa];ka.v=K;ka.prototype=D(K.prototype,{G:null,ba:function(){K.prototype.ba.call(this);this.G.clear()},d:ka});V.b=["cards","ui","input","BaseObjectEditor"];V.td=function(a,b){for(var c=t.kd(tb.k(t.list("tr",a)),a),d=0;d<c.length;){var e=c[d];++d;if(e.getAttribute("data-index")>b)return e}return null};V.v=ka;V.prototype=D(ka.prototype,{l:null,object:null,r:null,Q:null,table:null,lb:null,toolbar:null,Ia:function(a){this.r.H(a)||
this.bb(a);return this.r.get(a)},Yc:function(a,b){this.oe(a.name);null==b&&(b=this.l.length);this.Q.set(a.name,{w:a,index:b});this.l.push(a);this.type=f.gb(this.l);a.optional||this.bb(a.name)},lc:function(a,b,c){b.textContent=c},bb:function(a,b){if(this.r.H(a))throw"field "+a+" already realized";var c=ha.first(this.l,function(b){return b.name==a});if(null==c)throw"unable to realize "+a+" because it is not defined in ObjectType";null==b&&(b=c.type);var d;switch(b[1]){case 4:case 0:d=window.document.createElement("tr");
var e;e=window.document.createElement("tr");var h=window.document.createElement("th"),f=window.document.createElement("td"),g=this.Q.get(a).index;d.setAttribute("data-index",g);e.setAttribute("data-index",g);h.colSpan=2;this.lc(this.a,h,a);h.className="composite";f.colSpan=2;f.className="composite";var l=ab.create(b,f,this.a);d.appendChild(h);e.appendChild(f);h=V.td(this.table,g);null!=h?this.table.insertBefore(e,h):this.table.appendChild(e);this.table.insertBefore(d,e);d=l;break;default:d=window.document.createElement("tr"),
l=window.document.createElement("th"),h=window.document.createElement("td"),f=this.Q.get(a).index,d.setAttribute("data-index",f),this.lc(this.a,l,a),l.className="primitive",h.className="primitive",e=ab.create(b,h,this.a),d.appendChild(l),d.appendChild(h),l=V.td(this.table,f),null!=l?this.table.insertBefore(d,l):this.table.appendChild(d),d=e}this.r.set(a,d);d.focus.q(this.focus);d.focus.sa(!0).map(function(){return c.name}).Pb().q(this.lb);d.stream.map(function(b){return{j:L.Ob(a),h:X.Xb(b)}}).Ma(this.G);
this.G.B({j:L.Ob(a),h:X.vb})},cb:function(a){var b=this,c=this.r.get(a),d=this.Q.get(a);c.ba();this.r.remove(a);t.kd(tb.k(t.list('tr[data-index="'+d.index+'"]',this.table)),this.table).slice().map(function(a){b.table.removeChild(a)});this.lb.set(I.N)},oe:function(a){for(var b=0,c=this.l;b<c.length;){var d=c[b];++b;if(a==d.name)throw""+a+" field already exists in this ObjectType";}},B:function(){this.stream.C(y.D({j:this.type,h:this.object}))},d:V});ya.b=["cards","ui","input","AnonymousObjectEditor"];
ya.v=V;ya.prototype=D(V.prototype,{qa:null,ed:null,Ke:function(){var a=this;this.ed.map(function(b){var c=new oa("add <b>"+b.description+"</b>");c.P.g(function(){var c=a.yd();a.Yc({name:c,type:b.type,optional:!0});a.bb(c);a.r.get(c).focus.set(!0)});a.qa.Ga(c.a)})},cb:function(a){V.prototype.cb.call(this,a);this.l=this.l.filter(function(b){return b.name!=a});this.type=f.gb(this.l);this.Q.remove(a)},lc:function(a,b,c){var d=this,e=new $a(b,a);e.stream.map(function(a){return a.h}).qd(10).window(2,!1).g(function(a){switch(a.length){case 2:var b=
a[1];if(d.r.H(b))e.stream.B(function(){var a=d.yd(b);return{j:f.ma,h:a}}(this));else{var c=a[1];a=a[0];var g=d.Q.get(a);d.Q.remove(a);g.w.name=c;d.Q.set(c,g);d.r.remove(a);d.r.set(c,e);d.type=f.gb(z.Jb(d.Q.ha(),function(a,b){return a.index-b.index}).map(function(a){return a.w}))}break;default:throw"createFieldLabel should never reach this point";}});e.stream.C(y.D({j:f.ma,h:c}))},yd:function(a){null==a&&(a="field");for(var b=0,c;function(d){var e=c=0<b?[a,""+b].join("_"):a;return d.r.H(e)}(this);)b++;
return c},d:ya});eb.b=["cards","ui","input","ArrayEditor"];eb.v=ka;eb.prototype=D(ka.prototype,{list:null,r:null,Ja:null,ia:null,la:null,qe:function(a){var b=this,c;c=window.document.createElement("li");var d=t.Bb(t.first("li:nth-child("+(a+1)+")",this.list),this.list);null==d?this.list.appendChild(c):this.list.insertBefore(c,d);var e=ab.create(this.Ja,c,this.a);this.r.splice(a,0,e);e.focus.q(this.focus);e.focus.sa(!0).map(function(){return e.a.c.parentElement}).map(function(a){return t.He(a)}).Pb().q(this.ia);
e.stream.filter(function(){return M.m(b.ia.get())}).map(function(a){return{j:L.Cc(M.M(b.ia.get())),h:X.Xb(a)}}).rd(u.ca).g(function(a){b.G.C(y.D(a))})},Ba:function(a,b){this.r[a].stream.C(y.D(b))},Ue:function(a){var b=this,c=t.Bb(t.first("li:nth-child("+(a+1)+")",this.list),this.list),d=this.r[a];this.list.removeChild(c);d.ba();this.r.splice(a,1);this.ia.set(I.N);xa.Eb(function(){0!=b.r.length&&(a==b.r.length&&a--,b.r[a].focus.set(!0))},10)},B:function(){this.stream.C(y.D({j:this.type,h:this.la}))},
d:eb});db.b=["cards","ui","input","BoolEditor"];db.v=K;db.prototype=D(K.prototype,{d:db});cb.b=["cards","ui","input","CodeMirrorEditor"];cb.v=K;cb.prototype=D(K.prototype,{t:null,kb:function(){var a=this.t.nb.Je();this.stream.C(y.D({j:f.xa,h:a}))},Nd:function(){this.focus.set(!0)},hd:function(){this.focus.set(!1)},ba:function(){K.prototype.ba.call(this);this.t.Cd("changes",J(this,this.kb));this.t.Cd("focus",J(this,this.Nd));this.t.Cd("blur",J(this,this.hd));this.t=null},d:cb});bb.b=["cards","ui",
"input","DateEditor"];bb.v=K;bb.prototype=D(K.prototype,{format:null,d:bb});var X={K:["cards","ui","input","Diff"],Y:["Remove","Add","Set"],Wb:["Remove",0]};X.Wb.toString=m;X.Wb.e=X;X.vb=["Add",1];X.vb.toString=m;X.vb.e=X;X.Xb=function(a){a=["Set",2,a];a.e=X;a.toString=m;return a};u.b=["cards","ui","input","_DiffAt","DiffAt_Impl_"];u.ca=function(a,b){return null==a&&null==b?!0:null==a||null==b?!1:L.ca(a.j,b.j)&&ca.ra(a.h,b.h)};u.toString=function(a){return L.toString(a.j)+":"+k.i(a.h)};ab.b=["cards",
"ui","input","EditorFactory"];ab.create=function(a,b,c){switch(a[1]){case 0:return new eb(b,c,a[2]);case 1:return new db(b,c);case 6:return new cb(b,c);case 2:return new bb(b,c,!1);case 3:return new Za(b,c);case 4:return a=a[2],0==a.length?new ya(b,c):new Ya(b,c,a);case 7:return new Xa(b,c);case 5:return new Wa(b,c)}};ba.b=["cards","ui","input","InputBasedEditor"];ba.v=K;ba.prototype=D(K.prototype,{d:ba});$a.b=["cards","ui","input","FieldNameEditor"];$a.v=ba;$a.prototype=D(ba.prototype,{d:$a});Za.b=
["cards","ui","input","NumberEditor"];Za.v=ba;Za.prototype=D(ba.prototype,{d:Za});Ya.b=["cards","ui","input","ObjectEditor"];Ya.v=V;Ya.prototype=D(V.prototype,{qa:null,jb:null,Ac:null,cb:function(a){V.prototype.cb.call(this,a);this.Nb()},bb:function(a,b){V.prototype.bb.call(this,a,b);this.Nb()},Nb:function(){var a=this;if(this.Ac){var b=this.l.slice().filter(function(b){return!a.r.H(b.name)}),c=0<b.length;this.jb.enabled.set(c);c&&(this.qa.clear(),b.map(function(b){var c=new oa("add <b>"+b.name+"</b>");
c.P.g(function(){a.bb(b.name);a.Nb();a.r.get(b.name).focus.set(!0)});a.qa.Ga(c.a)}))}},d:Ya});L.b=["cards","ui","input","_Path","Path_Impl_"];L.Ob=function(a){return A.replace(a,"[",".[").split(".").filter(function(a){return 0<a.length}).map(function(a){return"["==p.substr(a,0,1)?sb.Qc(k.parseInt(p.substr(a,1,a.length-1))):sb.Zd(a)})};L.Cc=function(a){return[sb.Qc(a)]};L.toString=function(a){return null==a?"":A.replace(a.map(function(a){switch(a[1]){case 0:return A.replace(a[2],".","\\.");case 1:return"["+
a[2]+"]"}}).join("."),".[","[")};L.ca=function(a,b){if(null==a||null==b||a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;){var e=c++;if(!r.Xa(a[e],b[e]))return!1}return!0};var sb={K:["cards","ui","input","PathItem"],Y:["Field","Index"],Zd:function(a){a=["Field",0,a];a.e=sb;a.toString=m;return a},Qc:function(a){a=["Index",1,a];a.e=sb;a.toString=m;return a}};Xa.b=["cards","ui","input","ReferenceEditor"];Xa.v=ba;Xa.prototype=D(ba.prototype,{d:Xa});Wa.b=["cards","ui","input","TextEditor"];Wa.v=
K;Wa.prototype=D(K.prototype,{resize:function(){var a=this.a.c;a.style.height="5px";a.style.height=1+a.scrollHeight+"px"},d:Wa});pa.b=["cards","ui","input","_TypedValue","TypedValue_Impl_"];pa.ca=function(a,b){return null==a&&null==b?!0:null==a||null==b?!1:ca.ra(a.h,b.h)&&ca.ra(a.j,b.j)};pa.toString=function(a){return k.i(a.h)+" : "+k.i(a.j)};var s={K:["cards","ui","widgets","AnchorPoint"],Y:"TopLeft Top TopRight Left Center Right BottomLeft Bottom BottomRight".split(" "),dc:["TopLeft",0]};s.dc.toString=
m;s.dc.e=s;s.cc=["Top",1];s.cc.toString=m;s.cc.e=s;s.Vc=["TopRight",2];s.Vc.toString=m;s.Vc.e=s;s.Rc=["Left",3];s.Rc.toString=m;s.Rc.e=s;s.Pc=["Center",4];s.Pc.toString=m;s.Pc.e=s;s.Tc=["Right",5];s.Tc.toString=m;s.Tc.e=s;s.Tb=["BottomLeft",6];s.Tb.toString=m;s.Tb.e=s;s.Sb=["Bottom",7];s.Sb.toString=m;s.Sb.e=s;s.Nc=["BottomRight",8];s.Nc.toString=m;s.Nc.e=s;oa.b=["cards","ui","widgets","Button"];oa.prototype={a:null,P:null,enabled:null,Re:function(){oa.Pd.load();oa.Pd.play()},d:oa};Ga.b=["cards",
"ui","widgets","Menu"];Ga.v=ta;Ga.prototype=D(ta.prototype,{items:null,Mc:null,clear:function(){this.Mc.innerHTML="";this.items=new ia},Ga:function(a){var b;b=window.document.createElement("li");a.Ta(b);this.a.add(a);this.Mc.appendChild(b);this.items.set(a,b)},d:Ga});zb.b=["cards","ui","widgets","Statusbar"];zb.prototype={a:null,left:null,Va:null,right:null,d:zb};Fa.b=["cards","ui","widgets","Toolbar"];Fa.prototype={a:null,left:null,Va:null,right:null,d:Fa};sa.b=["cards","ui","widgets","ToolbarGroup"];
sa.prototype={a:null,$:function(a,b){null==a&&(a="");var c=new oa(a,b);c.a.Ta(this.a.c);this.a.add(c.a);return c},d:sa};var $={K:["haxe","StackItem"],Y:["CFunction","Module","FilePos","Method","LocalFunction"],Oc:["CFunction",0]};$.Oc.toString=m;$.Oc.e=$;$.ce=function(a){a=["Module",1,a];a.e=$;a.toString=m;return a};$.$d=function(a,b,c){a=["FilePos",2,a,b,c];a.e=$;a.toString=m;return a};$.be=function(a,b){var c=["Method",3,a,b];c.e=$;c.toString=m;return c};$.nf=function(a){a=["LocalFunction",4,a];
a.e=$;a.toString=m;return a};ga.b=["haxe","CallStack"];ga.ne=function(){var a=Error.Gd;Error.Gd=function(a,b){for(var e=[],f=0;f<b.length;){var g=b[f];++f;var k=null,l=g.getFunctionName();if(null!=l){var m=l.lastIndexOf(".");0<=m&&(k=$.be(p.substr(l,0,m),p.substr(l,m+1,null)))}e.push($.$d(k,g.getFileName(),g.getLineNumber()))}return e};var b=ga.Ne();b.shift();Error.Gd=a;return b};ga.tf=function(){return[]};ga.toString=function(a){for(var b=new Oa,c=0;c<a.length;){var d=a[c];++c;b.f+="\nCalled from ";
ga.Ad(b,d)}return b.f};ga.Ad=function(a,b){switch(b[1]){case 0:a.f+="a C function";break;case 1:var c=b[2];a.f+="module ";a.f=null==c?a.f+"null":a.f+(""+c);break;case 2:var c=b[4],d=b[3],e=b[2];null!=e&&(ga.Ad(a,e),a.f+=" (");a.f=null==d?a.f+"null":a.f+(""+d);a.f+=" line ";a.f=null==c?a.f+"null":a.f+(""+c);null!=e&&(a.f+=")");break;case 3:c=b[3];d=b[2];a.f=null==d?a.f+"null":a.f+(""+d);a.f+=".";a.f=null==c?a.f+"null":a.f+(""+c);break;case 4:c=b[2],a.f+="local function #",a.f=null==c?a.f+"null":a.f+
(""+c)}};ga.Ne=function(){var a=Error().stack;if("string"==typeof a){for(var a=a.split("\n"),b=[],c=0;c<a.length;){var d=a[c];++c;b.push($.ce(d))}return b}return a};Va.b=["haxe","ds","IntMap"];Va.L=[Ua];Va.prototype={s:null,set:function(a,b){this.s[a]=b},get:function(a){return this.s[a]},H:function(a){return this.s.hasOwnProperty(a)},remove:function(a){if(!this.s.hasOwnProperty(a))return!1;delete this.s[a];return!0},keys:function(){var a=[],b;for(b in this.s)this.s.hasOwnProperty(b)&&a.push(b|0);
return p.pb(a)},ha:function(){return{X:this.s,ob:this.keys(),R:function(){return this.ob.R()},next:function(){var a=this.ob.next();return this.X[a]}}},toString:function(){var a=new Oa;a.f+="{";for(var b=this.keys();b.R();){var c=b.next();a.f=null==c?a.f+"null":a.f+(""+c);a.f+=" => ";a.add(k.i(this.get(c)));b.R()&&(a.f+=", ")}a.f+="}";return a.f},d:Va};ia.b=["haxe","ds","ObjectMap"];ia.L=[Ua];ia.prototype={s:null,set:function(a,b){var c=a.na||(a.na=++ia.count);this.s[c]=b;this.s.Ra[c]=a},get:function(a){return this.s[a.na]},
H:function(a){return null!=this.s.Ra[a.na]},remove:function(a){a=a.na;if(null==this.s.Ra[a])return!1;delete this.s[a];delete this.s.Ra[a];return!0},keys:function(){var a=[],b;for(b in this.s.Ra)this.s.hasOwnProperty(b)&&a.push(this.s.Ra[b]);return p.pb(a)},d:ia};da.b=["haxe","ds","StringMap"];da.L=[Ua];da.prototype={s:null,set:function(a,b){this.s["$"+a]=b},get:function(a){return this.s["$"+a]},H:function(a){return this.s.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.s.hasOwnProperty(a))return!1;
delete this.s[a];return!0},keys:function(){var a=[],b;for(b in this.s)this.s.hasOwnProperty(b)&&a.push(b.substr(1));return p.pb(a)},ha:function(){return{X:this.s,ob:this.keys(),R:function(){return this.ob.R()},next:function(){var a=this.ob.next();return this.X["$"+a]}}},toString:function(){var a=new Oa;a.f+="{";for(var b=this.keys();b.R();){var c=b.next();a.f=null==c?a.f+"null":a.f+(""+c);a.f+=" => ";a.add(k.i(this.get(c)));b.R()&&(a.f+=", ")}a.f+="}";return a.f},d:da};ha.b=["thx","core","Arrays"];
ha.contains=function(a,b,c){if(null==c)return 0<=p.indexOf(a,b,0);for(var d=0,e=a.length;d<e;){var f=d++;if(c(a[f],b))return!0}return!1};ha.nc=function(a,b,c){if(null==a||null==b||a.length!=b.length)return!1;null==c&&(c=Wb.ye);for(var d=0,e=a.length;d<e;){var f=d++;if(!c(a[f],b[f]))return!1}return!0};ha.first=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(b(d))return d}return null};ha.Pe=function(a,b){a.map(b)};ha.Jb=function(a,b){var c=a.slice();c.sort(b);return c};ca.b=["thx","core","Dynamics"];
ca.ra=function(a,b){if(a==b)return!0;if(!Sb.Ye(a,b))return!1;var c=r["typeof"](a);switch(c[1]){case 2:case 0:case 1:case 3:return!1;case 5:return n.pe(a,b);case 6:if(r.Ya(c[2])!=r.Ya(r.da(b))||"string"==typeof a)return!1;if(a instanceof Array&&null==a.e){if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;){var e=c++;if(!ca.ra(a[e],b[e]))return!1}return!0}if(x.T(a,Date))return a.getTime()==b.getTime();if(x.T(a,cc)){c=z.k(a.keys());d=z.k(b.keys());if(c.length!=d.length)return!1;for(d=0;d<c.length;)if(e=
c[d],++d,!b.H(e)||!ca.ra(a.get(e),b.get(e)))return!1;return!0}d=!1;if((d=z.Ec(a))||Ea.Dc(a)){c=d?z.k(a):z.k(Na(a)());d=d?z.k(b):z.k(Na(b)());if(c.length!=d.length)return!1;for(var e=0,f=c.length;e<f;){var g=e++;if(!ca.ra(c[g],d[g]))return!1}return!0}c=r.wc(r.da(a));for(d=0;d<c.length;)if(f=c[d],++d,e=n.w(a,f),!n.fa(e)&&(f=n.w(b,f),!ca.ra(e,f)))return!1;return!0;case 7:if(r.vc(c[2])!=r.vc(r.Ie(b))||a[1]!=b[1])return!1;c=a.slice(2);d=b.slice(2);e=0;for(f=c.length;e<f;)if(g=e++,!ca.ra(c[g],d[g]))return!1;
return!0;case 4:c=n.l(a);d=n.l(b);for(e=0;e<c.length;){g=c[e];++e;p.remove(d,g);if(!Object.prototype.hasOwnProperty.call(b,g))return!1;f=n.w(a,g);if(!n.fa(f)&&(g=n.w(b,g),!ca.ra(f,g)))return!1}if(0<d.length)return!1;d=!1;if((d=z.Ec(a))||Ea.Dc(a)){if(d&&!z.Ec(b)||!d&&!Ea.Dc(b))return!1;c=d?z.k(a):z.k(Na(a)());d=d?z.k(b):z.k(Na(b)());if(c.length!=d.length)return!1;e=0;for(f=c.length;e<f;)if(g=e++,!ca.ra(c[g],d[g]))return!1}return!0;case 8:throw"Unable to compare two unknown types";}throw new na(0,null,
{fileName:"Dynamics.hx",lineNumber:138,className:"thx.core.Dynamics",$a:"same"});};na.b=["thx","core","Error"];na.v=Error;na.prototype=D(Error.prototype,{Kb:null,Qd:null,toString:function(){return this.message+"from: "+this.Kb.className+"."+this.Kb.$a+"() at "+this.Kb.lineNumber+"\n\n"+ga.toString(this.Qd)},d:na});Wb.b=["thx","core","Functions"];Wb.ye=function(a,b){return a==b};Vb.b=["thx","core","Ints"];Vb.compare=function(a,b){return a-b};Ea.b=["thx","core","Iterables"];Ea.Dc=function(a){var b;
b=n.ka(a)&&null==r.da(a)?n.l(a):r.wc(r.da(a));return qb.has(b,"iterator")?n.fa(n.w(a,"iterator")):!1};Ea.map=function(a,b){return z.map(Na(a)(),b)};z.b=["thx","core","Iterators"];z.map=function(a,b){for(var c=[];a.R();){var d=a.next();c.push(b(d))}return c};z.k=function(a){for(var b=[];a.R();){var c=a.next();b.push(c)}return b};z.Jb=function(a,b){var c=z.k(a);c.sort(b);return c};z.reduce=function(a,b,c){z.map(a,function(a){c=b(c,a)});return c};z.filter=function(a,b){return z.reduce(a,function(a,d){b(d)&&
a.push(d);return a},[])};z.Ec=function(a){var b;b=n.ka(a)&&null==r.da(a)?n.l(a):r.wc(r.da(a));return qb.has(b,"next")&&qb.has(b,"hasNext")?n.fa(n.w(a,"next"))&&n.fa(n.w(a,"hasNext")):!1};var rb={K:["thx","core","Nil"],Y:["nil"],Ib:["nil",0]};rb.Ib.toString=m;rb.Ib.e=rb;Ub.b=["thx","core","Objects"];Ub.Le=function(a){return 0==n.l(a).length};Pa.b=["thx","core","Set"];Pa.prototype={length:null,ib:null,add:function(a){p.remove(this.ib,a);this.ib.push(a);this.length=this.ib.length},ha:function(){return p.pb(this.ib)},
d:Pa};Tb.b=["thx","core","Strings"];Tb.compare=function(a,b){return a<b?-1:a>b?1:0};xa.b=["thx","core","Timer"];xa.Eb=function(a,b){return function(a,b){return function(){return a(b)}}(xa.clear,setTimeout(a,b))};xa.clear=function(a){return clearTimeout(a)};Sb.b=["thx","core","Types"];Sb.Ye=function(a,b){return yb.toString(r["typeof"](a))==yb.toString(r["typeof"](b))};yb.b=["thx","core","ValueTypes"];yb.toString=function(a){switch(a[1]){case 1:return"Int";case 2:return"Float";case 3:return"Bool";case 4:return"Dynamic";
case 5:return"Function";case 6:return r.Ya(a[2]);case 7:return r.vc(a[2]);default:return null}};xb.b=["thx","core","UUID"];xb.create=function(){for(var a=[],b=0;8>b;){var c=b++;a[c]=""+Math.floor(16*Math.random())}a[8]="-";for(b=9;13>b;)c=b++,a[c]=""+Math.floor(16*Math.random());a[13]="-";a[14]="4";for(b=15;18>b;)c=b++,a[c]=""+Math.floor(16*Math.random());a[18]="-";a[19]=""+(Math.floor(16*Math.random())&3|8);for(b=20;23>b;)c=b++,a[c]=""+Math.floor(16*Math.random());a[23]="-";for(b=24;36>b;)c=b++,
a[c]=""+Math.floor(16*Math.random());return a.join("")};wb.b=["thx","promise","Deferred"];wb.prototype={Ic:null,reject:function(a){return this.wd(Qb.Vb(a))},resolve:function(a){return this.wd(Qb.he(a))},wd:function(a){return this.Ic.cf(a)},d:wb};ma.b=["thx","promise","Promise"];ma.create=function(a){var b=new wb;a(J(b,b.resolve),J(b,b.reject));return b.Ic};ma.value=function(a){return ma.create(function(b){b(a)})};ma.prototype={yc:null,state:null,Wa:function(a,b){this.then(function(c){switch(c[1]){case 0:a(c[2]);
break;case 1:b(c[2])}});return this},kf:function(a){return this.Wa(a,function(){})},then:function(a){this.yc.push(a);this.update();return this},cf:function(a){switch(this.state[1]){case 1:this.state=I.Qa(a);break;case 0:throw new na(0,null,{fileName:"Promise.hx",lineNumber:128,className:"thx.promise.Promise",$a:"setState"});}this.update();return this},update:function(){var a=this.state;switch(a[1]){case 0:for(var a=a[2],b;null!=(b=this.yc.shift());)b(a)}},d:ma};var Qb={K:["thx","promise","PromiseValue"],
Y:["Success","Failure"],he:function(a){a=["Success",0,a];a.e=Qb;a.toString=m;return a},Vb:function(a){a=["Failure",1,a];a.e=Qb;a.toString=m;return a}};fa.b=["thx","stream","Bus"];fa.v=S;fa.prototype=D(S.prototype,{W:null,wa:null,sd:null,ca:null,value:null,kc:function(){for(var a=0,b=this.W.slice();a<b.length;){var c=b[a];++a;c.end()}},jc:function(){for(var a=0,b=this.wa.slice();a<b.length;){var c=b[a];++a;c.cancel()}},clear:function(){this.jc();this.kc()},C:function(a){switch(a[1]){case 0:a=a[2];
if(this.sd){if(this.ca(a,this.value))break;this.value=a}for(var b=0,c=this.W.slice();b<c.length;){var d=c[b];++b;d.B(a)}break;case 2:a=a[2];b=0;for(c=this.W.slice();b<c.length;)d=c[b],++b,d.oa(a);break;case 1:switch(a[2]){case !0:a=0;for(b=this.W.slice();a<b.length;)c=b[a],++a,c.cancel();break;case !1:for(a=0,b=this.W.slice();a<b.length;)c=b[a],++a,c.end()}}},B:function(a){this.C(y.D(a))},d:fa});vb.b=["thx","stream","EmitterBools"];vb.Bd=function(a){return a.map(function(a){return!a})};Rb.b=["thx",
"stream","EmitterEmitters"];Rb.De=function(a){return new S(function(b){a.ea(new aa(function(a){switch(a[1]){case 0:a[2].ea(b);break;case 2:b.oa(a[2]);break;case 1:switch(a[2]){case !0:b.cancel();break;case !1:b.end()}}}))})};ub.b=["thx","stream","IStream"];ub.prototype={cancel:null,d:ub};aa.b=["thx","stream","Stream"];aa.L=[ub];aa.prototype={fb:null,Db:null,qc:null,jd:null,Fa:function(a){this.Db.push(a)},cancel:function(){this.jd=!0;this.pc(y.Ub(!0))},end:function(){this.pc(y.Ub(!1))},oa:function(a){this.pc(y.Vb(a))},
B:function(a){this.fb(y.D(a))},pc:function(a){if(!this.qc){for(this.qc=!0;0<this.Db.length;)this.Db.shift()();this.fb(a);this.fb=function(){}}},d:aa};var y={K:["thx","stream","StreamValue"],Y:["Pulse","End","Failure"],D:function(a){a=["Pulse",0,a];a.e=y;a.toString=m;return a},Ub:function(a){a=["End",1,a];a.e=y;a.toString=m;return a},Vb:function(a){a=["Failure",2,a];a.e=y;a.toString=m;return a}};t.b=["udom","Query"];t.first=function(a,b){return(null!=b?b:t.nb).querySelector(a)};t.list=function(a,b){return(null!=
b?b:t.nb).querySelectorAll(a)};t.He=function(a){for(var b=0;null!=(a=a.previousElementSibling);)b++;return b};t.Bb=function(a,b){return null!=a&&a.parentElement==b?a:null};t.kd=function(a,b){return a.filter(function(a){return a.parentElement==b})};tb.b=["udom","_Dom","H"];tb.k=function(a){return Array.prototype.slice.call(a,0)};var va,fc=0;Array.prototype.indexOf&&(p.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});String.prototype.d=String;String.b=["String"];Array.b=["Array"];
Date.prototype.d=Date;Date.b=["Date"];var gc={b:["Int"]},hc={b:["Dynamic"]},dc=Number;dc.b=["Float"];var ec=Boolean;ec.K=["Bool"];var ic={b:["Class"]},jc={};null==Array.prototype.map&&(Array.prototype.map=function(a){for(var b=[],c=0,d=this.length;c<d;){var e=c++;b[e]=a(this[e])}return b});null==Array.prototype.filter&&(Array.prototype.filter=function(a){for(var b=[],c=0,d=this.length;c<d;){var e=this[c++];a(e)&&b.push(e)}return b});var ac="undefined"!==typeof window&&window||"undefined"!==typeof global&&
global||this;ac.setImmediate||(ac.setImmediate=function(a){ac.setTimeout(a,0)});P.S={add:"plus-circle",ad:"plus-square",remove:"ban",we:"reorder",checked:"toggle-on",Wd:"toggle-off",yf:"bolt",code:"bolt",value:"pencil",Se:"link",pf:"check-circle",text:"pencil",wf:"superscript",sf:"calendar",of:"list",object:"table"};P.$e={le:".card"};la.Cb=[{display:"bold",name:"strong"},{display:"italic",name:"emphasis"}];U.pattern=new Da("\\$\\.(.+?)\\b","");ua.Bc=new ua;R.Lb=new Da("^\\.?([^.\\[]+)","");R.Mb=new Da("^\\[(\\d+)\\]",
"");B.pd=new Da("Date\\(-?\\d+(:?\\.\\d+)?(:?e-?\\d+)?\\)","");B.Sc=new Da("^\\s*\\$\\.([a-z](:?(\\.|\\[\\d+\\])?[a-z0-9]*)*)\\s*$","");ra.ub=new ob({Cb:"tooltip error"});ya.ve=function(){var a=[{type:f.ma,description:"text"},{type:f.Da,description:"number"},{type:f.Pa,description:"date"},{type:f.xa,description:"code"},{type:f.Ca,description:"yes/no"},{type:f.gb([]),description:"object"}];return a=a.concat(a.map(function(a){return{type:f.Rb(a.type),description:"list of "+a.description}}))}();oa.Pd=
function(){var a=new Audio;a.volume=.5;a.src="sound/click.mp3";return a}();ia.count=0;t.nb=document;$b.Me()})();
